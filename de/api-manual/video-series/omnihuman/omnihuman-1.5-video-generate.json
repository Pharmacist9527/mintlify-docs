{
  "openapi": "3.1.0",
  "info": {
    "title": "OmniHuman-1.5 Digitaler Mensch Videogenerierungs-API",
    "description": "Audiogesteuerte Aufgaben zur Generierung digitaler menschlicher Videos mit dem OmniHuman-1.5 Modell erstellen",
    "license": {
      "name": "MIT"
    },
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "https://api.evolink.ai",
      "description": "Produktionsumgebung"
    }
  ],
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "paths": {
    "/v1/videos/generations": {
      "post": {
        "summary": "OmniHuman-1.5 Digitale Menschliche Videogenerierung",
        "description": "- OmniHuman-1.5 (omnihuman-1.5) Modell generiert digitale menschliche Videos, gesteuert durch Audio\n- Asynchroner Verarbeitungsmodus, verwenden Sie die zurückgegebene Aufgaben-ID zum [Abfragen](/de/api-manual/task-management/get-task-detail)\n- Generierte Videolinks sind 24 Stunden gültig, bitte speichern Sie diese umgehend\n\n**Hinweis:**\n- Audiodauer-Limit: maximal 35 Sekunden\n- Unterstützte Audioformate: MP3, WAV\n- Die Abrechnung basiert auf der Audiodauer (aufgerundet auf die nächste Sekunde)",
        "operationId": "createOmniHumanVideoGeneration",
        "tags": [
          "Digitale Mensch-Videogenerierung"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OmniHumanVideoGenerationRequest"
              },
              "examples": {
                "basic_generation": {
                  "summary": "Einfache digitale menschliche Generierung",
                  "value": {
                    "model": "omnihuman-1.5",
                    "audio_url": "https://example.com/audio.mp3",
                    "image_urls": [
                      "https://example.com/person.jpg"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Aufgabe zur Generierung digitaler menschlicher Videos erfolgreich erstellt",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OmniHumanVideoGenerationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Ungültige Anfrageparameter",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "invalid_audio": {
                    "summary": "Ungültiges Audioformat",
                    "value": {
                      "error": {
                        "code": 400,
                        "message": "Invalid audio format or duration exceeds 35 seconds",
                        "type": "invalid_request_error",
                        "param": "audio_url",
                        "fallback_suggestion": "use MP3 or WAV format, max 35 seconds"
                      }
                    }
                  },
                  "no_subject": {
                    "summary": "Kein menschliches Subjekt erkannt",
                    "value": {
                      "error": {
                        "code": 400,
                        "message": "No human subject detected in image",
                        "type": "invalid_request_error",
                        "param": "image_urls",
                        "fallback_suggestion": "provide an image with a clear human figure"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Nicht autorisiert, ungültiges oder abgelaufenes Token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": {
                    "code": 401,
                    "message": "Invalid or expired token",
                    "type": "authentication_error"
                  }
                }
              }
            }
          },
          "402": {
            "description": "Unzureichendes Kontingent, Aufladung erforderlich",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": {
                    "code": 402,
                    "message": "Unzureichendes Kontingent",
                    "type": "insufficient_quota_error",
                    "fallback_suggestion": "https://evolink.ai/dashboard/billing"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Zugriff verweigert",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": {
                    "code": 403,
                    "message": "Access denied for this model",
                    "type": "permission_error",
                    "param": "model"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Ressource nicht gefunden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": {
                    "code": 404,
                    "message": "Specified model not found",
                    "type": "not_found_error",
                    "param": "model",
                    "fallback_suggestion": "omnihuman-1.5"
                  }
                }
              }
            }
          },
          "413": {
            "description": "Anfrage-Entität zu groß",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": {
                    "code": 413,
                    "message": "Image or audio file too large",
                    "type": "request_too_large_error",
                    "param": "image_urls",
                    "fallback_suggestion": "compress file to under 10MB"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Ratenlimit überschritten",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": {
                    "code": 429,
                    "message": "Ratenlimit überschritten",
                    "type": "rate_limit_error",
                    "fallback_suggestion": "retry after 60 seconds"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Interner Serverfehler",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": {
                    "code": 500,
                    "message": "Interner Serverfehler",
                    "type": "internal_server_error",
                    "fallback_suggestion": "try again later"
                  }
                }
              }
            }
          },
          "502": {
            "description": "Upstream-Dienstfehler",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": {
                    "code": 502,
                    "message": "Upstream AI service unavailable",
                    "type": "upstream_error",
                    "fallback_suggestion": "try again later"
                  }
                }
              }
            }
          },
          "503": {
            "description": "Dienst vorübergehend nicht verfügbar",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": {
                    "code": 503,
                    "message": "Dienst vorübergehend nicht verfügbar",
                    "type": "service_unavailable_error",
                    "fallback_suggestion": "retry after 30 seconds"
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "OmniHumanVideoGenerationRequest": {
        "type": "object",
        "required": [
          "model",
          "audio_url",
          "image_urls"
        ],
        "properties": {
          "model": {
            "type": "string",
            "description": "Modellname für die Generierung digitaler menschlicher Videos",
            "enum": [
              "omnihuman-1.5"
            ],
            "default": "omnihuman-1.5",
            "example": "omnihuman-1.5"
          },
          "audio_url": {
            "type": "string",
            "format": "uri",
            "description": "Audio-URL zur Steuerung von Lippensynchronisation und Körperbewegungen\n\n**Hinweis:**\n- Maximale Audiodauer: `35` Sekunden\n- Unterstützte Formate: `.mp3`, `.wav`\n- Audio-URLs müssen direkt vom Server zugänglich sein\n- Die Abrechnung basiert auf der Audiodauer (aufgerundet auf die nächste Sekunde)",
            "example": "https://example.com/audio.mp3"
          },
          "image_urls": {
            "type": "array",
            "description": "Referenzbild-URL-Liste mit der zu animierenden Person\n\n**Hinweis:**\n- Anzahl der Bilder pro Anfrage: `1`\n- Das Bild sollte eine deutliche menschliche Figur enthalten\n- Bildgröße: nicht mehr als `10MB`\n- Unterstützte Dateiformate: `.jpg`, `.jpeg`, `.png`, `.webp`\n- Bild-URLs müssen direkt vom Server einsehbar sein",
            "items": {
              "type": "string",
              "format": "uri"
            },
            "maxItems": 1,
            "example": [
              "https://example.com/person.jpg"
            ]
          },
          "prompt": {
            "type": "string",
            "description": "Optionaler Text-Prompt zur Steuerung des Generierungsstils, unterstützt nur Chinesisch, Englisch, Japanisch, Koreanisch, Mexikanisches Spanisch und Indonesisch",
            "example": "A person speaking naturally with subtle expressions"
          },
          "pe_fast_mode": {
            "type": "boolean",
            "description": "Schnellverarbeitungsmodus aktivieren\n\n**Hinweis:**\n- `true`: Schnellere Generierung mit möglicherweise geringerer Qualität\n- `false`: Standardqualitätsverarbeitung (Standard)",
            "default": false,
            "example": false
          },
          "mask_url": {
            "type": "array",
            "description": "Masken-URL-Array zur Angabe von Animationsbereichen\n\n**Hinweis:**\n- Optionaler Parameter für erweiterte Steuerung\n- Maskenbilder sollten den Abmessungen des Referenzbildes entsprechen",
            "items": {
              "type": "string",
              "format": "uri"
            },
            "example": [
              "https://example.com/mask.png"
            ]
          },
          "seed": {
            "type": "integer",
            "description": "Zufälliger Seed als Grundlage zur Bestimmung des anfänglichen Diffusionszustands, Standard ist zufällig. Wenn der Seed die gleiche positive Ganzzahl ist und alle anderen Parameter konsistent sind, kann der generierte Inhalt konsistente Ergebnisse aufweisen"
          },
          "subject_check": {
            "type": "boolean",
            "description": "Subjekterkennung aktivieren, um die menschliche Präsenz im Bild zu überprüfen\n\n**Hinweis:**\n- `true`: Subjekterkennung aktivieren, die Anfragestartzeit wird sich erhöhen\n- `false`: Subjekterkennung überspringen (Standard)",
            "default": false,
            "example": false
          },
          "auto_mask": {
            "type": "boolean",
            "description": "Automatische Maskengenerierung aktivieren\n\n**Hinweis:**\n- `true`: Menschliche Figur automatisch erkennen und maskieren, die Anfragestartzeit wird sich erhöhen. Dieser Parameter wird ignoriert, wenn `mask_url` einen Wert hat\n- `false`: Bereitgestellte mask_url verwenden oder keine Maske (Standard)",
            "default": false,
            "example": false
          },
          "callback_url": {
            "type": "string",
            "description": "HTTPS-Callback-Adresse nach Aufgabenabschluss\n\n**Callback-Zeitpunkt:**\n- Wird ausgelöst, wenn die Aufgabe abgeschlossen, fehlgeschlagen oder abgebrochen wurde\n- Wird nach Abschluss der Abrechnungsbestätigung gesendet\n\n**Sicherheitsbeschränkungen:**\n- Nur HTTPS-Protokoll wird unterstützt\n- Callback an interne IP-Adressen ist verboten (127.0.0.1, 10.x.x.x, 172.16-31.x.x, 192.168.x.x, usw.)\n- URL-Länge darf `2048` Zeichen nicht überschreiten\n\n**Callback-Mechanismus:**\n- Timeout: `10` Sekunden\n- Maximal `3` Wiederholungsversuche bei Fehler (Wiederholung nach `1` Sekunde/`2` Sekunden/`4` Sekunden)\n- Das Format des Callback-Antwortkörpers entspricht dem Antwortformat der Aufgabenabfrage-API\n- Ein 2xx-Statuscode der Callback-Adresse gilt als erfolgreich, andere Statuscodes lösen eine Wiederholung aus",
            "format": "uri",
            "example": "https://your-domain.com/webhooks/video-task-completed"
          }
        }
      },
      "OmniHumanVideoGenerationResponse": {
        "type": "object",
        "properties": {
          "created": {
            "type": "integer",
            "description": "Zeitstempel der Aufgabenerstellung",
            "example": 1757169743
          },
          "id": {
            "type": "string",
            "description": "Aufgaben-ID",
            "example": "task-unified-1757169743-7cvnl5zw"
          },
          "model": {
            "type": "string",
            "description": "Tatsächlich verwendeter Modellname",
            "example": "omnihuman-1.5"
          },
          "object": {
            "type": "string",
            "enum": [
              "video.generation.task"
            ],
            "description": "Spezifischer Aufgabentyp"
          },
          "progress": {
            "type": "integer",
            "description": "Aufgabenfortschritt in Prozent (0-100)",
            "minimum": 0,
            "maximum": 100,
            "example": 0
          },
          "status": {
            "type": "string",
            "description": "Aufgabenstatus",
            "enum": [
              "pending",
              "processing",
              "completed",
              "failed"
            ],
            "example": "pending"
          },
          "task_info": {
            "$ref": "#/components/schemas/VideoTaskInfo",
            "description": "Detaillierte Informationen zur Videoaufgabe"
          },
          "type": {
            "type": "string",
            "enum": [
              "text",
              "image",
              "audio",
              "video"
            ],
            "description": "Aufgaben-Ausgabetyp",
            "example": "video"
          },
          "usage": {
            "$ref": "#/components/schemas/VideoUsage",
            "description": "Nutzungs- und Abrechnungsinformationen"
          }
        }
      },
      "VideoTaskInfo": {
        "type": "object",
        "properties": {
          "can_cancel": {
            "type": "boolean",
            "description": "Ob die Aufgabe abgebrochen werden kann (immer false für OmniHuman)",
            "example": false
          },
          "estimated_time": {
            "type": "integer",
            "description": "Geschätzte Abschlusszeit (Sekunden)",
            "minimum": 0,
            "example": 120
          },
          "video_duration": {
            "type": "integer",
            "description": "Videodauer (Sekunden), basierend auf der Audiodauer",
            "example": 10
          }
        }
      },
      "VideoUsage": {
        "type": "object",
        "description": "Nutzungs- und Abrechnungsinformationen",
        "properties": {
          "billing_rule": {
            "type": "string",
            "description": "Abrechnungsregel (per_second für OmniHuman)",
            "enum": [
              "per_call",
              "per_token",
              "per_second"
            ],
            "example": "per_second"
          },
          "credits_reserved": {
            "type": "number",
            "description": "Geschätzte verbrauchte Credits (basierend auf der Audiodauer)",
            "minimum": 0,
            "example": 10
          },
          "user_group": {
            "type": "string",
            "description": "Benutzergruppenkategorie",
            "example": "default"
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "error": {
            "type": "object",
            "properties": {
              "code": {
                "type": "integer",
                "description": "HTTP-Status-Fehlercode"
              },
              "message": {
                "type": "string",
                "description": "Fehlerbeschreibung",
                "example": "Ungültige Anfrageparameter"
              },
              "type": {
                "type": "string",
                "description": "Fehlertyp",
                "example": "invalid_request_error"
              },
              "param": {
                "type": "string",
                "description": "Zugehöriger Parametername",
                "example": "model"
              },
              "fallback_suggestion": {
                "type": "string",
                "description": "Vorschlag zur Fehlerbehebung",
                "example": "omnihuman-1.5"
              }
            }
          }
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "description": "##Alle APIs erfordern Bearer-Token-Authentifizierung##\n\n**API-Schlüssel erhalten:**\n\nBesuchen Sie die [API-Schlüsselverwaltungsseite](https://evolink.ai/dashboard/keys), um Ihren API-Schlüssel zu erhalten\n\n**Zum Anfrage-Header hinzufügen:**\n```\nAuthorization: Bearer YOUR_API_KEY\n```"
      }
    }
  },
  "tags": [
    {
      "name": "Digitale Mensch-Videogenerierung",
      "description": "OmniHuman-1.5 APIs zur Generierung digitaler menschlicher Videos"
    }
  ]
}