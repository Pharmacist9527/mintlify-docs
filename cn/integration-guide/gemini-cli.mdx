---
title: "Gemini CLI"
description: "将 Gemini CLI 连接到 EvoLink.AI"
---

## 概述

![Gemini CLI 界面](/images/integration-guide/image-2.png)

Gemini CLI 是 Google 官方推出的命令行工具，用于在终端环境中与 Gemini 系列大模型进行交互。
通过将 Gemini CLI 与 **EvoLink API** 进行配置集成，您可以突破官方模型限制，在命令行中直接调用 EvoLink 提供的多种 AI 能力，包括 **Gemini、GPT 以及 Claude 系列模型**，实现统一入口、多模型使用。

## 使用前准备

在开始配置之前，请确保已完成以下准备工作：

### 1. 安装 Node.js 与 npm

- 请从 [Node.js 官方网站](https://nodejs.org/) 下载并安装运行环境
- 如果不熟悉安装流程，可参考 [菜鸟教程 - Node.js 安装配置](https://www.runoob.com/nodejs/nodejs-install-setup.html)
- 建议使用 **Node.js v20 或更高版本**
- 安装完成后，可通过以下命令验证：

```bash
node -v
npm -v
```

### 2. 获取 EvoLink API Key

- 登录 [EvoLink 控制台](https://evolink.ai/dashboard)
- 创建并复制您的 API Key
- API Key 通常以 `sk-` 开头，请妥善保存

## 如何打开命令行终端

<Tabs>
  <Tab title="Windows">
    - 方法一：按 `Win + R` 键，输入 `cmd` 或 `powershell`，按回车
    - 方法二：在开始菜单搜索"命令提示符"或"PowerShell"
    - 方法三：在文件夹中按住 Shift 键，右键点击空白处，选择"在此处打开 PowerShell 窗口"
  </Tab>
  <Tab title="macOS">
    - 方法一：按 `Command + 空格` 打开 Spotlight，输入 `Terminal`，按回车
    - 方法二：在"应用程序" → "实用工具" → "终端"
    - 注意：macOS 默认使用 zsh 终端（macOS 10.15+），旧版本使用 bash，两者都可以正常使用
  </Tab>
  <Tab title="Linux">
    - 方法一：按 `Ctrl + Alt + T` 快捷键
    - 方法二：在应用程序菜单中搜索"终端"或"Terminal"
  </Tab>
</Tabs>

## 第一步：安装 Gemini CLI

### 1. 安装命令

```bash
npm install -g @google/gemini-cli
```

安装成功：

![Gemini CLI 安装](/images/integration-guide/image.png)

### 2. 检验安装

```bash
gemini --version
```

## 第二步：配置 EvoLink API

### 1. 找到安装目录

```bash
npm root -g
```

### 2. 修改 API 端点

需要修改 2 个文件：

**文件 1：** `{安装目录}\@google\gemini-cli\node_modules\@google\genai\dist\node\index.mjs`

找到约第 **11222** 行：

```javascript
// 修改前
initHttpOptions.baseUrl = `https://generativelanguage.googleapis.com/`;

// 修改后
initHttpOptions.baseUrl = `https://api.evolink.ai/`;
```

**文件 2：** `{安装目录}\@google\gemini-cli\node_modules\@google\genai\dist\node\index.cjs`

找到约第 **11244** 行，做相同修改。

### 3. 配置 API Key

<Tabs>
  <Tab title="Windows PowerShell">
    **临时设置（当前会话有效）**
    ```powershell
    $env:GEMINI_API_KEY = "你的EvoLink API Key"
    ```

    **永久设置**
    ```powershell
    [Environment]::SetEnvironmentVariable("GEMINI_API_KEY", "你的EvoLink API Key", "User")
    ```
  </Tab>
  <Tab title="macOS / Linux">
    **临时设置（当前会话有效）**
    ```bash
    export GEMINI_API_KEY="你的EvoLink API Key"
    ```

    **永久设置**
    编辑 `~/.bashrc` 或 `~/.zshrc`，添加：
    ```bash
    export GEMINI_API_KEY="你的EvoLink API Key"
    ```
    然后执行 `source ~/.bashrc` 或 `source ~/.zshrc` 使配置生效。
  </Tab>
</Tabs>

## 第三步：开始使用 Gemini CLI

### 1. 进入工作目录

```shell
cd <你的工作目录>
```

### 2. 单次问答模式

```shell
gemini "你是谁"
```

### 3. 启动交互模式

```shell
gemini
```

如果返回正常响应，说明配置成功。

## 常见问题

### 1. Gemini CLI 是什么？主要用来做什么？
Gemini CLI 是 Google 官方推出的命令行工具，允许用户在终端中与 Gemini 模型进行交互。通过 EvoLink 配置后，还可以调用 GPT、Claude 等多种模型。

### 2. 第一次使用时，如何确认是否已经安装并配置成功？
依次执行以下命令验证：
- `node -v` 和 `npm -v`：确认 Node.js 和 npm 已安装
- `gemini --version`：确认 Gemini CLI 已安装
- `gemini "你是谁"`：确认 API 配置正确，能正常返回响应

### 3. 交互模式和单次命令模式有什么区别？
- **交互模式**：执行 `gemini` 进入持续对话，可多轮交互，适合复杂任务
- **单次命令模式**：执行 `gemini "问题"` 获取单次响应后退出，适合快速查询

### 4. Gemini CLI 会不会自动读取或上传我本地的文件和代码？
不会自动读取或上传。Gemini CLI 需要用户主动引用或授权才会读取文件内容，且会在执行敏感操作前请求确认。建议在专门的项目文件夹中使用。

### 5. 如何使用 Gemini CLI 分析或处理本地文件内容？
在交互模式中，可以通过以下方式引用文件：
- 直接输入文件路径让 Gemini 读取
- 拖拽文件到终端窗口

### 6. Gemini CLI 是否支持中文输入和中文输出？
完全支持。Gemini CLI 支持中文输入和输出，可以直接用中文提问并获得中文回答。

### 7. 执行后没有任何输出，可能是什么原因？
常见原因包括：
- 网络连接问题，无法访问 API 服务器
- API Key 无效或余额不足
- API 端点配置错误
- 防火墙或代理阻止了请求

### 8. 修改了 API 端点或环境变量后，为什么没有生效？
- 需要重新启动终端或命令行窗口
- 确认环境变量 `GEMINI_API_KEY` 已正确设置
- 确认 API 端点文件已正确修改（需要修改 node_modules 中的 .mjs 和 .cjs 文件）

### 9. 使用时出现 401/403 错误一般是什么原因？
- **401 错误**：`GEMINI_API_KEY` 未设置或 API Key 无效
- **403 错误**：API Key 权限不足或已过期
- 请检查 API 端点是否已修改为 `https://api.evolink.ai/`

### 10. Gemini CLI 适合哪些使用场景？又不适合哪些场景？
**适合的场景：**
- 代码编写、调试和重构
- 命令行环境下的快速问答
- 文件内容分析和处理
- 自动化脚本集成

**不适合的场景：**
- 需要图形界面的复杂交互
- 实时协作编辑
- 大规模文件批量处理

### 11. 如何切换模型？
在交互模式中输入 `/model` 命令即可切换模型。

![Gemini CLI 切换模型](/images/integration-guide/image-3.png)

目前支持的模型：
- `gemini-2.5-pro`
- `gemini-2.5-flash`
- `gemini-3-pro-preview`
- `gemini-3-flash-preview`

### 12. 怎么上传图片？
- 方法一：直接引用图片路径
- 方法二：拖拽图片进终端

以上方式均需用户主动操作，Gemini CLI 不会自动读取或上传本地图片。

## 注意

<Warning>
建议在专门的项目文件夹内启动 Gemini CLI，避免在敏感目录（如系统目录、包含密钥的目录）中运行。Gemini CLI 会以当前工作目录为起点进行文件操作。
</Warning>
