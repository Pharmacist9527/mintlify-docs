---
title: "Gemini CLI"
description: "将 Gemini CLI 连接到 EvoLink.AI"
---

## 前提条件

- Node.js v18 或更高版本
- EvoLink.AI API Key

## 第一步：安装 Gemini CLI

```bash
npm install -g @google/gemini-cli
```

验证安装：

```bash
gemini --version
```

## 第二步：找到安装目录

```bash
npm root -g
```

示例输出：`D:\develop\NodeJS\node_modules`

## 第三步：修改 API 端点

需要修改 2 个文件：

**文件 1：** `{安装目录}/@google/gemini-cli/node_modules/@google/genai/dist/node/index.mjs`

找到约第 **11222** 行：

```javascript
// 修改前
initHttpOptions.baseUrl = `https://generativelanguage.googleapis.com/`;

// 修改后
initHttpOptions.baseUrl = `https://api.evolink.ai/`;
```

**文件 2：** `{安装目录}/@google/gemini-cli/node_modules/@google/genai/dist/node/index.cjs`

找到约第 **11244** 行，做相同修改。

## 第四步：修改默认模型

**文件：** `{安装目录}/@google/gemini-cli/node_modules/@google/gemini-cli-core/dist/src/config/defaultModelConfigs.js`

找到约第 **96-99** 行：

```javascript
// 修改前
classifier: {
    extends: 'base',
    modelConfig: {
        model: 'gemini-2.5-flash-lite',

// 修改后
classifier: {
    extends: 'base',
    modelConfig: {
        model: 'gemini-3-flash-preview',
```

## 第五步：配置 API Key

**方式一：临时设置（当前会话有效）**

```powershell
$env:GEMINI_API_KEY = "你的EvoLink API Key"
```

**方式二：永久设置**

```powershell
[Environment]::SetEnvironmentVariable("GEMINI_API_KEY", "你的EvoLink API Key", "User")
```

设置后重新打开终端。

## 第六步：验证连接

```bash
cd ~
gemini "你好"
```

如果返回正常响应，说明配置成功。

## 注意事项

<Warning>
更新会覆盖修改。每次运行 `npm update -g @google/gemini-cli` 后需要重新修改文件。
</Warning>

<Tip>
避免在 system32 目录运行，以防止权限警告。
</Tip>
