---
title: "Claude CLI"
description: "将 Claude CLI 连接到 EvoLink.AI"
---

## 概述

![Claude CLI 界面](/images/integration-guide/image-9.png)

Claude CLI 是 Anthropic 官方推出的命令行工具，用于在终端环境中与 Claude 系列大模型进行交互。
通过将 Claude CLI 与 **EvoLink API** 进行配置集成，您可以在命令行中直接调用 EvoLink 提供的 Claude 系列模型能力。

## 使用前准备

在开始配置之前，请确保已完成以下准备工作：

### 1. 安装 Node.js 与 npm

- 请从 [Node.js 官方网站](https://nodejs.org/) 下载并安装运行环境
- 如果不熟悉安装流程，可参考 [菜鸟教程 - Node.js 安装配置](https://www.runoob.com/nodejs/nodejs-install-setup.html)
- 建议使用 **Node.js v18 或更高版本**
- 安装完成后，可通过以下命令验证：

```bash
node -v
npm -v
```

### 2. 获取 EvoLink API Key

- 登录 [EvoLink 控制台](https://evolink.ai/dashboard)
- 创建并复制您的 API Key
- API Key 通常以 `sk-` 开头，请妥善保存

## 第一步：安装 Claude CLI

### 1. 全局安装

```bash
npm install -g @anthropic-ai/claude-code
```

### 2. 检验安装

```bash
claude --version
```

![Claude CLI 版本](/images/integration-guide/image-8.png)

## 第二步：配置 EvoLink API

Claude CLI 支持多种配置方式，选择适合您的方法。

### 方法1：配置 settings.json（推荐）

这是最推荐的方式，配置永久生效。

**配置文件位置：**

<Tabs>
  <Tab title="Windows">
    ```
    C:\Users\{用户名}\.claude\settings.json
    ```
  </Tab>
  <Tab title="macOS">
    ```
    ~/.claude/settings.json
    ```
  </Tab>
  <Tab title="Linux">
    ```
    ~/.claude/settings.json
    ```
  </Tab>
</Tabs>

**编辑配置文件内容：**

```json
{
  "env": {
    "ANTHROPIC_AUTH_TOKEN": "你的EvoLink API Key",
    "ANTHROPIC_BASE_URL": "https://api.evolink.ai",
    "CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC": "1"
  },
  "permissions": {
    "allow": [],
    "deny": []
  }
}
```

### 方法2：临时环境变量（仅当前终端有效）

适用于快速测试或临时切换配置，关闭终端后失效。

<Tabs>
  <Tab title="PowerShell">
    ```powershell
    $env:ANTHROPIC_BASE_URL="https://api.evolink.ai"
    $env:ANTHROPIC_AUTH_TOKEN="你的EvoLink API Key"
    ```
  </Tab>
  <Tab title="CMD">
    ```cmd
    set ANTHROPIC_BASE_URL=https://api.evolink.ai
    set ANTHROPIC_AUTH_TOKEN=你的EvoLink API Key
    ```
  </Tab>
  <Tab title="macOS / Linux">
    ```bash
    export ANTHROPIC_BASE_URL="https://api.evolink.ai"
    export ANTHROPIC_AUTH_TOKEN="你的EvoLink API Key"
    ```
  </Tab>
</Tabs>

### 方法3：永久环境变量

如果您希望在系统层面永久配置环境变量：

<Tabs>
  <Tab title="Windows 图形界面">
    1. 右键「此电脑」→「属性」→「高级系统设置」→「环境变量」
    2. 在「用户变量」中新建：
       - 变量名：`ANTHROPIC_BASE_URL`，变量值：`https://api.evolink.ai`
       - 变量名：`ANTHROPIC_AUTH_TOKEN`，变量值：你的 API Key
    3. 点击确定，重启终端生效
  </Tab>
  <Tab title="PowerShell 永久设置">
    ```powershell
    [System.Environment]::SetEnvironmentVariable('ANTHROPIC_BASE_URL', 'https://api.evolink.ai', 'User')
    [System.Environment]::SetEnvironmentVariable('ANTHROPIC_AUTH_TOKEN', '你的EvoLink API Key', 'User')
    ```
    重启终端生效。
  </Tab>
  <Tab title="macOS / Linux">
    编辑 shell 配置文件（Bash: `~/.bashrc` 或 `~/.bash_profile`，Zsh: `~/.zshrc`），添加：

    ```bash
    export ANTHROPIC_BASE_URL="https://api.evolink.ai"
    export ANTHROPIC_AUTH_TOKEN="你的EvoLink API Key"
    ```

    使配置生效：

    ```bash
    source ~/.bashrc  # 或 source ~/.zshrc
    ```
  </Tab>
</Tabs>

### 验证配置

配置完成后，可以通过以下命令验证环境变量是否设置成功：

<Tabs>
  <Tab title="PowerShell">
    ```powershell
    echo $env:ANTHROPIC_BASE_URL
    echo $env:ANTHROPIC_AUTH_TOKEN
    ```
  </Tab>
  <Tab title="CMD">
    ```cmd
    echo %ANTHROPIC_BASE_URL%
    echo %ANTHROPIC_AUTH_TOKEN%
    ```
  </Tab>
  <Tab title="macOS / Linux">
    ```bash
    echo $ANTHROPIC_BASE_URL
    echo $ANTHROPIC_AUTH_TOKEN
    ```
  </Tab>
</Tabs>

### 支持的模型

EvoLink 支持以下 Claude 模型：

| 模型名称 | 说明 |
|---------|------|
| `claude-haiku-4-5-20251001` | 快速响应 |
| `claude-sonnet-4-5-20250929` | 平衡性能 |
| `claude-sonnet-4-20250514` | 标准版本 |
| `claude-opus-4-1-20250805` | 高级版本 |
| `claude-opus-4-5-20251101` | 最新版本 |

根据需要在 `model` 字段中选择合适的模型。

## 第三步：开始使用 Claude CLI

### 1. 进入安全的工作目录

```powershell
cd <你的工作目录>
```

### 2. 启动交互模式

```shell
claude
```

### 3. 单次问答模式

```shell
claude "你是谁"
```

如果返回正常响应，说明配置成功。

## 常见问题

### 1. Claude CLI 是什么？主要用来做什么？
Claude CLI 是 Anthropic 官方推出的命令行工具，允许用户在终端中与 Claude 模型进行交互。主要用于代码辅助、文本生成、问答对话、文件分析等场景，特别适合开发者在命令行环境中快速调用 AI 能力。

### 2. 第一次使用时，如何确认是否已经安装并配置成功？
依次执行以下命令验证：
- `node -v` 和 `npm -v`：确认 Node.js 和 npm 已安装
- `claude --version`：确认 Claude CLI 已安装
- `claude "你是谁"`：确认 API 配置正确，能正常返回响应

### 3. 交互模式和单次命令模式有什么区别？
- **交互模式**：执行 `claude` 进入持续对话，可多轮交互，适合复杂任务
- **单次命令模式**：执行 `claude "问题"` 获取单次响应后退出，适合快速查询

### 4. Claude CLI 会不会自动读取或上传我本地的文件和代码？
不会自动读取或上传。Claude CLI 需要用户主动引用或授权才会读取文件内容，且会在执行敏感操作前请求确认。建议在专门的项目文件夹中使用。

### 5. 如何使用 Claude CLI 分析或处理本地文件内容？
在交互模式中，可以通过以下方式引用文件：
- 直接输入文件路径让 Claude 读取
- 拖拽文件到终端窗口
- 复制粘贴文件内容

### 6. Claude CLI 是否支持中文输入和中文输出？
完全支持。Claude CLI 支持中文输入和输出，可以直接用中文提问并获得中文回答。

### 7. 执行后没有任何输出，可能是什么原因？
常见原因包括：
- 网络连接问题，无法访问 API 服务器
- API Key 无效或余额不足
- `ANTHROPIC_BASE_URL` 配置错误
- 防火墙或代理阻止了请求

### 8. 修改了配置文件或环境变量后，为什么没有生效？
- 需要重新启动终端或命令行窗口
- 检查 `settings.json` 文件格式是否正确（JSON 语法）
- 确认配置文件路径正确：
  - Windows: `C:\Users\{用户名}\.claude\settings.json`
  - macOS / Linux: `~/.claude/settings.json`

### 9. 使用时出现 401/403 错误一般是什么原因？
- **401 错误**：`ANTHROPIC_AUTH_TOKEN` 未设置或 API Key 无效
- **403 错误**：API Key 权限不足或已过期
- 请检查 `ANTHROPIC_BASE_URL` 是否为 `https://api.evolink.ai`

### 10. Claude CLI 适合哪些使用场景？又不适合哪些场景？
**适合的场景：**
- 代码编写、调试和重构
- 命令行环境下的快速问答
- 文件内容分析和处理
- 自动化脚本集成

**不适合的场景：**
- 需要图形界面的复杂交互
- 实时协作编辑
- 大规模文件批量处理

### 11. 如何切换模型？
在交互模式中输入 `/model` 命令即可切换模型。

### 12. 怎么上传图片？
- 方法一：直接引用图片路径
- 方法二：拖拽图片进终端
- 方法三：直接粘贴

以上方式均需用户主动操作，Claude CLI 不会自动读取或上传本地图片。

## 注意

<Warning>
建议在专门的项目文件夹内启动 Claude CLI，避免在敏感目录（如系统目录、包含密钥的目录）中运行。Claude CLI 会以当前工作目录为起点进行文件操作。
</Warning>

<Tip>
如果之前登录过官方账号，需要先清除 `ANTHROPIC_AUTH_TOKEN` 环境变量或在 `settings.json` 中覆盖。
</Tip>
