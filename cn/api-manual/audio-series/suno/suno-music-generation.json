{
    "openapi": "3.1.0",
    "info": {
        "title": "Suno音乐生成接口",
        "description": "使用Suno AI模型生成音乐，支持带歌词或纯音乐模式",
        "license": {
            "name": "MIT"
        },
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "https://api.evolink.ai",
            "description": "生产环境"
        }
    ],
    "security": [
        {
            "bearerAuth": []
        }
    ],
    "paths": {
        "/v1/audios/generations": {
            "post": {
                "summary": "Suno音乐生成接口",
                "description": "- Suno AI 音乐生成模型，支持根据文本描述或歌词生成完整的音乐作品\n- 支持自定义模式（精细控制风格、标题、歌词）和简单模式（AI自动生成）\n- 异步处理模式，使用返回的任务ID [进行查询](/cn/api-manual/task-management/get-task-detail)\n- 生成的音频链接，有效期为72小时，请尽快保存\n- 每次请求会生成多个音乐变体",
                "operationId": "createSunoMusicGeneration",
                "tags": [
                    "音频生成"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/SunoMusicGenerationRequest"
                            },
                            "examples": {
                                "simple_mode": {
                                    "summary": "简单模式（推荐新手）",
                                    "value": {
                                        "model": "suno-v4.5",
                                        "prompt": "一首欢快的夏日流行歌曲，关于公路旅行和自由"
                                    }
                                },
                                "custom_mode_with_lyrics": {
                                    "summary": "自定义模式（带歌词）",
                                    "value": {
                                        "model": "suno-v4.5",
                                        "custom_mode": true,
                                        "instrumental": false,
                                        "style": "pop, electronic, upbeat, female vocals, 120bpm",
                                        "title": "夏日梦想",
                                        "prompt": "[Verse 1]\n驾车行驶在高速路上，车窗敞开\n阳光照耀着这座小镇\n收音机播放着我们最爱的歌\n一切都那么美好\n\n[Chorus]\n夏日的梦，夏日的夜\n追逐星光和城市灯火\n有你在身边\n我感到如此快乐",
                                        "negative_tags": "heavy metal, screaming, sad",
                                        "vocal_gender": "f"
                                    }
                                },
                                "instrumental_mode": {
                                    "summary": "纯音乐模式",
                                    "value": {
                                        "model": "suno-v4.5plus",
                                        "custom_mode": true,
                                        "instrumental": true,
                                        "style": "lo-fi, chill, ambient, piano, soft drums",
                                        "title": "雨后午后"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "音乐任务创建成功",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/AudioGenerationResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "请求参数错误",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                },
                                "example": {
                                    "error": {
                                        "code": 400,
                                        "message": "style is required when custom_mode is true",
                                        "type": "invalid_request_error",
                                        "param": "style"
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "身份验证失败",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                },
                                "example": {
                                    "error": {
                                        "code": 401,
                                        "message": "Invalid authentication credentials",
                                        "type": "authentication_error"
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "无权限访问",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                },
                                "example": {
                                    "error": {
                                        "code": 403,
                                        "message": "Access denied for this model",
                                        "type": "permission_error",
                                        "param": "model"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "资源不存在",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                },
                                "example": {
                                    "error": {
                                        "code": 404,
                                        "message": "Specified model not found",
                                        "type": "not_found_error",
                                        "param": "model",
                                        "fallback_suggestion": "suno-v4.5"
                                    }
                                }
                            }
                        }
                    },
                    "429": {
                        "description": "请求频率超限",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                },
                                "example": {
                                    "error": {
                                        "code": 429,
                                        "message": "Rate limit exceeded",
                                        "type": "rate_limit_error",
                                        "fallback_suggestion": "retry after 60 seconds"
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                },
                                "example": {
                                    "error": {
                                        "code": 500,
                                        "message": "Internal server error",
                                        "type": "internal_server_error",
                                        "fallback_suggestion": "try again later"
                                    }
                                }
                            }
                        }
                    },
                    "502": {
                        "description": "上游服务错误",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                },
                                "example": {
                                    "error": {
                                        "code": 502,
                                        "message": "Bad gateway",
                                        "type": "upstream_error",
                                        "fallback_suggestion": "try again later"
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "服务暂时不可用",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                },
                                "example": {
                                    "error": {
                                        "code": 503,
                                        "message": "Service temporarily unavailable",
                                        "type": "service_unavailable_error",
                                        "fallback_suggestion": "retry after 30 seconds"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "SunoMusicGenerationRequest": {
                "type": "object",
                "required": [
                    "model",
                    "custom_mode",
                    "instrumental"
                ],
                "properties": {
                    "model": {
                        "type": "string",
                        "description": "模型名称\n\n**可选值：**\n- `suno-v4`: V4版本，改进的人声质量，最长4分钟，prompt最多`3000`字符，style最多`200`字符\n- `suno-v4.5`: V4.5版本（推荐），更智能的提示词，更快的生成速度，最长8分钟，prompt最多`5000`字符，style最多`1000`字符\n- `suno-v4.5plus`: V4.5+增强版，音色更丰富，新的创作方式，最长8分钟，prompt最多`5000`字符，style最多`1000`字符\n- `suno-v4.5all`: V4.5全功能版，更智能的提示词，更快的生成速度，最长8分钟，prompt最多`5000`字符，style最多`1000`字符\n- `suno-v5`: V5最新版本，更卓越的音乐表现力，生成速度更快，prompt最多`5000`字符，style最多`1000`字符",
                        "enum": [
                            "suno-v4",
                            "suno-v4.5",
                            "suno-v4.5plus",
                            "suno-v4.5all",
                            "suno-v5"
                        ],
                        "example": "suno-v4.5"
                    },
                    "custom_mode": {
                        "type": "boolean",
                        "description": "是否开启自定义模式\n\n**说明：**\n- `false`：简单模式，只需提供`prompt`，AI自动生成歌词和风格\n- `true`：自定义模式，可精细控制`style`、`title`、歌词等\n\n**自定义模式下的必填参数：**\n- `style`: 必填\n- `title`: 必填\n- `prompt`: 当`instrumental=false`时必填（作为歌词）",
                        "example": false
                    },
                    "instrumental": {
                        "type": "boolean",
                        "description": "是否生成纯音乐（无人声）\n\n**说明：**\n- `false`：生成带人声的音乐\n- `true`：生成无人声的纯音乐/背景音乐\n\n**注意：**\n- 在非自定义模式下，此参数对必填字段无影响\n- 在自定义模式下，设为`true`时`prompt`变为可选",
                        "example": false
                    },
                    "prompt": {
                        "type": "string",
                        "description": "提示词，描述所需音乐内容\n\n**非自定义模式（`custom_mode=false`）：**\n- 必填，作为音乐描述，AI自动生成歌词和风格\n- 最大长度：`500`字符\n\n**自定义模式（`custom_mode=true`）：**\n- 当`instrumental=false`时必填，作为精确歌词使用\n- 当`instrumental=true`时可选\n- 最大长度：V4为`3000`字符，V4.5+为`5000`字符\n\n**歌词格式建议：**\n- 使用`[Verse]`、`[Chorus]`、`[Bridge]`等标签组织歌词结构",
                        "example": "一首欢快的夏日流行歌曲，关于公路旅行和自由"
                    },
                    "style": {
                        "type": "string",
                        "description": "音乐风格规范\n\n**说明：**\n- 在自定义模式（`custom_mode=true`）下必填\n- 定义音乐的流派、情绪或艺术方向\n- 建议使用英文逗号分隔的标签形式\n\n**字符限制：**\n- V4：最多`200`字符\n- V4.5+：最多`1000`字符\n\n**常见风格标签：**\n- 流派：pop, rock, jazz, classical, electronic, hip-hop, r&b, country, folk\n- 情绪：happy, sad, energetic, calm, romantic, dark, uplifting\n- 乐器：piano, guitar, drums, bass, violin, saxophone, synthesizer\n- 人声：male vocals, female vocals, choir, harmonies\n- 节奏：slow, fast, upbeat, groovy, 120bpm",
                        "example": "pop, electronic, upbeat, female vocals"
                    },
                    "title": {
                        "type": "string",
                        "description": "歌曲标题\n\n**说明：**\n- 在自定义模式（`custom_mode=true`）下必填\n- 将显示在播放器界面和文件名中\n- 最大长度：`80`字符",
                        "maxLength": 80,
                        "example": "夏日梦想"
                    },
                    "negative_tags": {
                        "type": "string",
                        "description": "排除风格，指定不希望出现的音乐风格或特征\n\n**示例：**\n- `heavy metal, screaming, sad`\n- `rap, fast tempo`",
                        "example": "heavy metal, screaming"
                    },
                    "vocal_gender": {
                        "type": "string",
                        "description": "人声性别偏好\n\n**可选值：**\n- `m`: 男声\n- `f`: 女声\n\n**注意：**\n- 仅在`custom_mode=true`时生效\n- 此参数只能加强概率，不能保证一定遵循指定性别",
                        "enum": [
                            "m",
                            "f"
                        ],
                        "example": "f"
                    },
                    "style_weight": {
                        "type": "number",
                        "description": "风格权重，控制对指定风格的遵循强度\n\n**取值范围：** `0.0` ~ `1.0`，保留一位小数\n\n**说明：**\n- 值越高，生成结果越接近指定风格\n- 值为`0`时视为未设置",
                        "minimum": 0,
                        "maximum": 1,
                        "example": 0.7
                    },
                    "weirdness_constraint": {
                        "type": "number",
                        "description": "怪异度约束，控制生成结果的创意/实验性程度\n\n**取值范围：** `0.0` ~ `1.0`，保留一位小数\n\n**说明：**\n- 值越高，生成结果越具有创意和实验性\n- 值越低，生成结果越传统和保守\n- 值为`0`时视为未设置",
                        "minimum": 0,
                        "maximum": 1,
                        "example": 0.3
                    },
                    "audio_weight": {
                        "type": "number",
                        "description": "音频权重，控制音频特征的权重\n\n**取值范围：** `0.0` ~ `1.0`，保留一位小数\n\n**说明：**\n- 值为`0`时视为未设置",
                        "minimum": 0,
                        "maximum": 1,
                        "example": 0.5
                    },
                    "callback_url": {
                        "type": "string",
                        "description": "任务完成后的HTTPS回调地址\n\n**回调时机：**\n- 回调过程分三个阶段：`text`（文本生成）、`first`（第一首完成）、`complete`（全部完成）\n- 某些情况下可能跳过`text`和`first`阶段，直接返回`complete`\n\n**安全限制：**\n- 仅支持HTTPS协议\n- 禁止回调到内网IP地址\n- URL长度不超过`2048`字符\n\n**回调机制：**\n- 超时时间：`10`秒\n- 失败后最多重试`3`次\n- 回调地址返回2xx状态码视为成功",
                        "format": "uri",
                        "example": "https://your-domain.com/webhooks/suno-callback"
                    }
                }
            },
            "AudioGenerationResponse": {
                "type": "object",
                "properties": {
                    "created": {
                        "type": "integer",
                        "description": "任务创建时间戳",
                        "example": 1766319090
                    },
                    "id": {
                        "type": "string",
                        "description": "任务ID，用于查询任务状态和结果",
                        "example": "task-unified-1766319089-oqs9cue4"
                    },
                    "model": {
                        "type": "string",
                        "description": "实际使用的模型名称",
                        "example": "suno-v5"
                    },
                    "object": {
                        "type": "string",
                        "enum": [
                            "audio.generation.task"
                        ],
                        "description": "任务的具体类型"
                    },
                    "progress": {
                        "type": "integer",
                        "description": "任务进度百分比 (0-100)",
                        "minimum": 0,
                        "maximum": 100,
                        "example": 100
                    },
                    "result_data": {
                        "type": "array",
                        "description": "生成的音乐详情数组，任务完成后返回",
                        "items": {
                            "$ref": "#/components/schemas/AudioResultItem"
                        }
                    },
                    "results": {
                        "type": "array",
                        "description": "生成的音频URL数组，任务完成后返回",
                        "items": {
                            "type": "string",
                            "format": "uri"
                        },
                        "example": [
                            "https://media.evolink.ai/xxx.mp3",
                            "https://media.evolink.ai/yyy.mp3"
                        ]
                    },
                    "status": {
                        "type": "string",
                        "description": "任务状态",
                        "enum": [
                            "pending",
                            "processing",
                            "completed",
                            "failed"
                        ],
                        "example": "completed"
                    },
                    "task_info": {
                        "$ref": "#/components/schemas/AudioTaskInfo",
                        "description": "音频任务详细信息"
                    },
                    "type": {
                        "type": "string",
                        "enum": [
                            "audio"
                        ],
                        "description": "任务的输出类型",
                        "example": "audio"
                    }
                }
            },
            "AudioResultItem": {
                "type": "object",
                "description": "单个音乐生成结果",
                "properties": {
                    "result_id": {
                        "type": "string",
                        "description": "结果唯一标识",
                        "example": "555f4ea2-cfef-4622-8355-baa5f2ce6a59"
                    },
                    "duration": {
                        "type": "number",
                        "description": "音频时长（秒）",
                        "example": 91.2
                    },
                    "tags": {
                        "type": "string",
                        "description": "音乐风格标签",
                        "example": "R&B"
                    },
                    "title": {
                        "type": "string",
                        "description": "歌曲标题",
                        "example": "Forget Me Nots"
                    },
                    "image_url": {
                        "type": "string",
                        "format": "uri",
                        "description": "封面图片URL",
                        "example": "https://media.evolink.ai/xxx.jpeg"
                    },
                    "audio_url": {
                        "type": "string",
                        "format": "uri",
                        "description": "音频文件URL",
                        "example": "https://media.evolink.ai/xxx.mp3"
                    },
                    "stream_audio_url": {
                        "type": "string",
                        "format": "uri",
                        "description": "流式音频URL",
                        "example": "https://media.evolink.ai/xxx.mp3"
                    }
                }
            },
            "AudioTaskInfo": {
                "type": "object",
                "properties": {
                    "can_cancel": {
                        "type": "boolean",
                        "description": "任务是否可以取消",
                        "example": false
                    }
                }
            },
            "Usage": {
                "type": "object",
                "description": "使用量和计费信息",
                "properties": {
                    "billing_rule": {
                        "type": "string",
                        "description": "计费规则",
                        "enum": [
                            "per_call",
                            "per_token",
                            "per_second"
                        ],
                        "example": "per_call"
                    },
                    "credits_reserved": {
                        "type": "number",
                        "description": "预估消耗积分数",
                        "minimum": 0,
                        "example": 10
                    },
                    "user_group": {
                        "type": "string",
                        "description": "用户组类别",
                        "enum": [
                            "default",
                            "vip"
                        ],
                        "example": "default"
                    }
                }
            },
            "ErrorResponse": {
                "type": "object",
                "properties": {
                    "error": {
                        "type": "object",
                        "properties": {
                            "code": {
                                "type": "integer",
                                "description": "错误代码"
                            },
                            "message": {
                                "type": "string",
                                "description": "错误信息"
                            },
                            "type": {
                                "type": "string",
                                "description": "错误类型"
                            },
                            "param": {
                                "type": "string",
                                "description": "导致错误的参数名"
                            },
                            "fallback_suggestion": {
                                "type": "string",
                                "description": "建议的解决方案"
                            }
                        }
                    }
                }
            }
        },
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "scheme": "bearer",
                "description": "##所有接口均需要使用Bearer Token进行认证##\n\n**获取 API Key ：**\n\n访问 [API Key 管理页面](https://evolink.ai/dashboard/keys) 获取您的 API Key\n\n**使用时在请求头中添加：**\n```\nAuthorization: Bearer YOUR_API_KEY\n```"
            }
        }
    }
}
