---
title: "Codex CLI"
description: "Conectar Codex CLI a EvoLink.AI"
---

## Descripción general

![Codex CLI Interface](/images/integration-guide/codex-interface.png)

Codex CLI es la herramienta oficial de línea de comandos de OpenAI para tareas relacionadas con código en la terminal. En comparación con las herramientas de chat generales, se enfoca en resultados listos para ingeniería con cambios de código más claros y accionables.
Al integrar Codex CLI con **EvoLink API**, puedes acceder a los modelos de EvoLink (como la **serie GPT**) a través de una interfaz unificada compatible con OpenAI con una sola clave y una URL base.

## Requisitos previos

Antes de configurar, asegúrate de tener:

### 1. Instalar Node.js y npm

**¿Por qué es necesario?** Node.js es el entorno de ejecución para herramientas CLI (así como necesitas instalar WeChat en tu teléfono para chatear, necesitas instalar Node.js en tu computadora para ejecutar herramientas CLI).

**Si ya está instalado:** Ejecuta `node -v` y `npm -v` para verificar la versión. Si es v20+, omite este paso.

**Primera instalación:**
- Descarga e instala desde el [sitio oficial de Node.js](https://nodejs.org/) (se recomienda la versión LTS)
- Si no estás familiarizado con el proceso de instalación, consulta [Runoob - Guía de instalación de Node.js](https://www.runoob.com/nodejs/nodejs-install-setup.html)
- Recomendado: **Node.js v20 o superior**
- Verificar la instalación:

```bash
node -v
npm -v
```

![Node.js and npm version verification](/images/integration-guide/claude-node-npm-verify.png)

### 2. Obtener la clave API de EvoLink

- Inicia sesión en el [Panel de EvoLink](https://evolink.ai/dashboard)
- Encuentra las claves API en el panel, haz clic en el botón 'Crear nueva clave' y luego copia la clave generada
- La clave API generalmente comienza con `sk-`

## Paso 1: Instalar Codex CLI

<Note>
**Consejo:** Si no sabes cómo abrir una terminal de línea de comandos, consulta [Preguntas frecuentes - Cómo abrir la terminal de línea de comandos](#13-cómo-abrir-la-terminal-de-línea-de-comandos)
</Note>

### 1. Instalación global

```bash
npm install -g @openai/codex
```

**Resultado esperado:** Información de descarga desplazándose, terminando con `added XX packages` (tarda 1-3 minutos).

**Si ocurre un error:** `permission denied` significa que en Windows necesitas ejecutar PowerShell "como administrador", en macOS/Linux agrega `sudo` antes del comando.

### 2. Verificar la instalación

```bash
codex --version
```

**Indicador de éxito:** Muestra el número de versión (por ejemplo, `1.x.x`).

![Codex CLI Version](/images/integration-guide/codex-version.png)

## Paso 2: Configurar EvoLink API

Codex CLI admite un proveedor personalizado mediante archivo de configuración, sin necesidad de modificar el código fuente.

<Tabs>
  <Tab title="Método 1: Operación con interfaz gráfica">
    ### 1. Abrir el directorio de configuración

    <Tabs>
      <Tab title="Windows">
        Presiona `Win + R`, pega lo siguiente y luego presiona Enter para abrir el directorio de configuración de Codex:
        ```
        %userprofile%\.codex
        ```
        ![Windows Win+R open terminal](/images/integration-guide/encodexwin-r.png)

      </Tab>
      <Tab title="macOS">
        En Finder, presiona `Command + Shift + G`, pega la siguiente ruta y luego presiona Enter:
        ```
        ~/.codex
        ```
      </Tab>
      <Tab title="Linux">
        Accede al directorio de configuración en tu administrador de archivos:
        ```
        ~/.codex
        ```
      </Tab>
    </Tabs>
    ![Codex CLI config environment](/images/integration-guide/codex-config-env-en.png)
    ### 2. Editar config.toml

    Encuentra el archivo `config.toml` en el directorio de configuración y edítalo con el siguiente contenido:

    ```toml
    model = "gpt-5.2"
    model_reasoning_effort = "medium"
    model_provider = "evolink"

    [model_providers.evolink]
    name = "EvoLink API"
    base_url = "https://code.evolink.ai/v1"
    env_key = "OPENAI_API_KEY"
    wire_api = "responses"
    ```


    **⚠️ Importante:**
    - **Copia completamente** sin omitir ningún símbolo
    - Reemplaza `"your-evolink-api-key"` con la clave API real
    - El formato TOML es sensible a la indentación y los símbolos
  </Tab>

  <Tab title="Método 2: Creación con un solo comando">
    <Tabs>
      <Tab title="Windows PowerShell">
        ```powershell
@"
model = "gpt-5.2"
model_reasoning_effort = "medium"
model_provider = "evolink"

[model_providers.evolink]
name = "EvoLink API"
base_url = "https://code.evolink.ai/v1"
env_key = "OPENAI_API_KEY"
wire_api = "responses"
"@ | Out-File -FilePath "$env:USERPROFILE\.codex\config.toml" -Encoding utf8
        ```
    ![Codex one-command configuration](/images/integration-guide/codex-one-command-config-win.png)
      </Tab>
      <Tab title="macOS / Linux">
        ```bash
cat > ~/.codex/config.toml << 'EOF'
model = "gpt-5.2"
model_reasoning_effort = "medium"
model_provider = "evolink"

[model_providers.evolink]
name = "EvoLink API"
base_url = "https://code.evolink.ai/v1"
env_key = "OPENAI_API_KEY"
wire_api = "responses"
EOF
        ```
      </Tab>
    </Tabs>

    Después de ejecutar el comando, el archivo de configuración se creará y escribirá automáticamente.
  </Tab>
</Tabs>

```toml
model = "gpt-5.2"
model_reasoning_effort = "medium"
model_provider = "evolink"

[model_providers.evolink]
name = "EvoLink API"
base_url = "https://code.evolink.ai/v1"
env_key = "OPENAI_API_KEY"
wire_api = "responses"
```

Campos de configuración:
- `model`: nombre del modelo predeterminado
- `model_reasoning_effort`: profundidad de razonamiento (ajustar según sea necesario)
- `model_provider`: nombre del proveedor que coincide con la sección a continuación
- `base_url`: punto de acceso de EvoLink API
- `env_key`: nombre de la variable de entorno para la clave API
- `wire_api`: debe ser `responses`

### 2. Configurar la clave API

<Tabs>
  <Tab title="Windows PowerShell">
    **Temporal (solo sesión actual)**
    ```powershell
    $env:OPENAI_API_KEY = "your-evolink-api-key"
    ```

    **Permanente**
    ```powershell
    [Environment]::SetEnvironmentVariable("OPENAI_API_KEY", "your-evolink-api-key", "User")
    ```
    Reinicia la terminal para que los cambios surtan efecto.

    **Verificar la configuración**
    ```powershell
    echo $env:OPENAI_API_KEY
    ```

    ![Check if environment variable is added successfully](/images/integration-guide/codex-check-env.png)

    Si muestra tu clave API, la configuración fue exitosa.
  </Tab>
  <Tab title="macOS / Linux">
    **Temporal (solo sesión actual)**
    ```bash
    export OPENAI_API_KEY="your-evolink-api-key"
    ```

    **Permanente**
    Edita `~/.bashrc` o `~/.zshrc`, agrega:
    ```bash
    export OPENAI_API_KEY="your-evolink-api-key"
    ```
    Luego ejecuta `source ~/.bashrc` o `source ~/.zshrc` para aplicar, o reinicia la terminal.

    **Verificar la configuración**
    ```bash
    echo $OPENAI_API_KEY
    ```
    Si muestra tu clave API, la configuración fue exitosa.
  </Tab>
</Tabs>

## Paso 3: Comenzar a usar Codex CLI

### 1. Entrar al directorio de trabajo

```shell
cd your-working-directory
```

**Nota:** Reemplaza `your-working-directory` con la ruta real

### 2. Modo interactivo

```shell
codex
```
![Codex CLI Interface](/images/integration-guide/codex-interface.png)
### 3. Verificar la configuración

```shell
codex "Who are you"
```

**Indicadores de éxito:**
- Ves texto de respuesta de la IA (varias líneas)
- **Sin** errores como `401`, `403`, `API Key invalid`

**Si ves errores:**
- `401 Unauthorized`: Clave API no configurada o inválida → Verifica la variable de entorno
- `403 Forbidden`: Permisos insuficientes de la clave API → Verifica la clave API
- `Network error`: Problema de red → Verifica la conexión

## Preguntas frecuentes

### 1. ¿Qué es Codex CLI y para qué sirve?
Codex CLI es la herramienta oficial de línea de comandos de OpenAI enfocada en tareas relacionadas con código. Se enfoca en resultados listos para ingeniería con cambios de código más claros y accionables.

### 2. ¿Cómo verifico la instalación y configuración en el primer uso?
Ejecuta estos comandos en secuencia:
- `node -v` y `npm -v`: Confirma que Node.js y npm están instalados
- `codex --version`: Confirma que Codex CLI está instalado
- `codex "Who are you"`: Confirma que la configuración de la API es correcta

### 3. ¿Cuál es la diferencia entre el modo interactivo y el modo de comando único?
- **Modo interactivo**: Ejecuta `codex` para entrar en una conversación continua para interacciones de múltiples turnos
- **Modo de comando único**: Ejecuta `codex "pregunta"` para obtener una sola respuesta y salir

### 4. ¿Codex CLI leerá o subirá automáticamente mis archivos y código locales?
No. Codex CLI solo lee el contenido de archivos cuando tú lo referencias o autorizas explícitamente. Se recomienda usarlo en una carpeta de proyecto dedicada.

### 5. ¿Cómo uso Codex CLI para analizar el contenido de archivos locales?
En modo interactivo, puedes referenciar archivos de las siguientes maneras:
- Escribiendo la ruta del archivo para que Codex lo lea
- Arrastrando archivos a la ventana de la terminal
- Copiando y pegando el contenido del archivo

### 6. ¿Codex CLI admite entrada y salida en chino?
Sí, es totalmente compatible.

### 7. ¿No hay salida después de la ejecución, cuál podría ser la causa?
Las causas comunes incluyen:
- Problemas de conexión de red
- Clave API inválida o saldo insuficiente
- Configuración incorrecta de `base_url`
- Firewall o proxy bloqueando las solicitudes

### 8. ¿Por qué mis cambios de configuración no surten efecto?
- Reinicia tu terminal
- Verifica la sintaxis de `config.toml` (formato TOML)
- Verifica la ruta del archivo de configuración:
  - Windows: `C:\Users\{username}\.codex\config.toml`
  - macOS / Linux: `~/.codex/config.toml`

### 9. ¿Qué causa los errores 401/403?
- **Error 401**: `OPENAI_API_KEY` no configurada o inválida
- **Error 403**: Permisos insuficientes o clave expirada
- Verifica que `env_key` coincida con el nombre de tu variable de entorno

### 10. ¿Para qué escenarios es adecuado Codex CLI?
**Adecuado para:**
- Escritura, depuración y refactorización de código
- Preguntas y respuestas rápidas en entornos de línea de comandos
- Análisis de contenido de archivos

**No adecuado para:**
- Interacciones complejas con interfaz gráfica
- Edición colaborativa en tiempo real

### 11. ¿Cómo cambio de modelo?
Abre el archivo de configuración `config.toml` (ubicado en `~/.codex/config.toml` o `C:\Users\{username}\.codex\config.toml`), y modifica el campo `model`:

```toml
model = "gpt-5.2"  # Change to your desired model name
```

Guarda el archivo y reinicia Codex CLI para que los cambios surtan efecto.

### 12. ¿Cómo subo imágenes?
- Opción 1: Referenciar la ruta de la imagen
- Opción 2: Arrastrar y soltar una imagen en la terminal
- Opción 3: Pegar una imagen directamente

Todos los métodos requieren acción del usuario: Codex CLI no leerá ni subirá automáticamente imágenes locales.

### 13. ¿Cómo abrir la terminal de línea de comandos?

<Tabs>
  <Tab title="Windows">
    - Método 1: Presiona `Win + R`, escribe `cmd` o `powershell`, luego presiona Enter
    - Método 2: Busca "Símbolo del sistema" o "PowerShell" en el menú Inicio
    - Método 3: Mantén presionado Shift y haz clic derecho en una carpeta, selecciona "Abrir ventana de PowerShell aquí"
  </Tab>
  <Tab title="macOS">
    - Método 1: Presiona `Command + Space` para abrir Spotlight, escribe `Terminal`, luego presiona Enter
    - Método 2: Ve a "Aplicaciones" → "Utilidades" → "Terminal"
  </Tab>
  <Tab title="Linux">
    - Método 1: Presiona el atajo `Ctrl + Alt + T`
    - Método 2: Busca "Terminal" en el menú de aplicaciones
  </Tab>
</Tabs>

## Notas

<Warning>
Ejecuta Codex CLI en una carpeta de proyecto dedicada. Evita ejecutarlo en directorios sensibles (como carpetas del sistema o directorios que contengan credenciales). Codex CLI opera a partir del directorio de trabajo actual.
</Warning>

<Tip>
El `wire_api` en la configuración debe establecerse en `"responses"`. `"chat"` está obsoleto.
</Tip>