{
  "openapi": "3.1.0",
  "info": {
    "title": "Hailuo 02 API",
    "description": "Créer des tâches de génération vidéo en utilisant le modèle MiniMax Hailuo 02, prenant en charge les modes T2V, I2V et FLF",
    "license": {
      "name": "MIT"
    },
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "https://api.evolink.ai",
      "description": "Production"
    }
  ],
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "tags": [
    {
      "name": "Génération vidéo",
      "description": "APIs de génération de vidéos IA"
    }
  ],
  "paths": {
    "/v1/videos/generations": {
      "post": {
        "tags": [
          "Génération vidéo"
        ],
        "summary": "Hailuo 02 API",
        "description": "- Hailuo 02 (MiniMax-Hailuo-02) prend en charge les modes T2V (Text-to-Video), I2V (Image-to-Video) et FLF (First-Last-Frame)\n- Détection automatique du mode : 0 image=T2V, 1 image=I2V, 2 images=FLF\n- Modèle complet, prend en charge la résolution 512P (mode I2V uniquement)\n- Prend en charge 15 commandes de mouvement de caméra comme `[Pan left]`, `[Push in]`, `[Static shot]`\n- Traitement asynchrone, utilisez l'ID de tâche retourné pour [interroger le statut](/fr/api-manual/task-management/get-task-detail)\n- Les liens vidéo générés sont valides pendant 24 heures, veuillez les enregistrer rapidement",
        "operationId": "createVideoGeneration",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VideoGenerationRequest"
              },
              "examples": {
                "text_to_video": {
                  "summary": "Texte-vers-vidéo (T2V)",
                  "value": {
                    "model": "MiniMax-Hailuo-02",
                    "prompt": "A beautiful sunset over the ocean [Static shot]"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Tâche de génération vidéo créée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VideoGenerationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Paramètres de requête invalides",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Non autorisé, jeton invalide ou expiré",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "402": {
            "description": "Quota insuffisant, recharge requise",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "VideoGenerationRequest": {
        "type": "object",
        "required": [
          "model"
        ],
        "properties": {
          "model": {
            "type": "string",
            "description": "Nom du modèle de génération vidéo",
            "default": "MiniMax-Hailuo-02",
            "example": "MiniMax-Hailuo-02"
          },
          "prompt": {
            "type": "string",
            "description": "Invite décrivant le contenu vidéo et le mouvement de caméra. Requis pour T2V, optionnel pour I2V/FLF. Max 2000 caractères\n\n**15 commandes de caméra :**\n- Truck: `[Truck left]`, `[Truck right]`\n- Pan: `[Pan left]`, `[Pan right]`\n- Dolly: `[Push in]`, `[Pull out]`\n- Pedestal: `[Pedestal up]`, `[Pedestal down]`\n- Tilt: `[Tilt up]`, `[Tilt down]`\n- Zoom: `[Zoom in]`, `[Zoom out]`\n- Special: `[Shake]`\n- Follow: `[Tracking shot]`\n- Static: `[Static shot]`\n\n**Utilisation :**\n- Combiné : Plusieurs commandes dans un `[]` s'exécutent simultanément, par ex. `[Pan left,Pedestal up]`, max 3 recommandé\n- Séquentiel : Les commandes s'exécutent dans l'ordre du texte, par ex. `...slowly [Push in], then quickly [Pull out]`",
            "example": "A young girl gradually grows into an adult woman",
            "maxLength": 2000
          },
          "image_urls": {
            "type": "array",
            "description": "URL d'images de référence pour les modes I2V et FLF\n\n**Détection de mode :**\n- 0 image = T2V (Texte vers vidéo)\n- 1 image = I2V (Image vers vidéo)\n- 2 images = FLF (Transition première-dernière image)\n\n**Exigences :**\n- Taille d'image : max 20MB\n- Formats : JPG, JPEG, PNG, WebP\n- Rapport d'aspect : 2:5 à 5:2\n- Bord court > 300px\n\n**Remarque FLF :** La résolution vidéo suit la première image, la dernière image sera recadrée pour correspondre",
            "items": {
              "type": "string",
              "format": "uri"
            },
            "maxItems": 2,
            "example": [
              "https://example.com/first.jpg",
              "https://example.com/last.jpg"
            ]
          },
          "quality": {
            "type": "string",
            "description": "Résolution vidéo\n\n**Pris en charge par mode :**\n- I2V : 512p, 768p, 1080p\n- T2V : 768p, 1080p\n- FLF : 768p, 1080p\n\n**Durée et résolution :**\n- 512p : 6s, 10s\n- 768p : 6s, 10s\n- 1080p : 6s uniquement\n\nRemarque : 512p disponible uniquement en mode I2V",
            "enum": [
              "512p",
              "768p",
              "1080p"
            ],
            "default": "768p",
            "example": "768p"
          },
          "duration": {
            "type": "integer",
            "description": "Durée de la vidéo (secondes)\n- 6 secondes (par défaut)\n- 10 secondes (non disponible pour 1080p)",
            "enum": [
              6,
              10
            ],
            "default": 6,
            "example": 6
          },
          "model_params": {
            "type": "object",
            "description": "Paramètres spécifiques au modèle",
            "properties": {
              "prompt_optimizer": {
                "type": "boolean",
                "description": "Optimisation automatique du prompt. Définir sur false pour un contrôle précis",
                "default": true,
                "example": true
              },
              "fast_pretreatment": {
                "type": "boolean",
                "description": "Activer le prétraitement rapide pour réduire le temps d'optimisation",
                "default": false,
                "example": true
              }
            }
          }
        }
      },
      "VideoGenerationResponse": {
        "type": "object",
        "properties": {
          "created": {
            "type": "integer",
            "description": "Horodatage de création de la tâche",
            "example": 1757169743
          },
          "id": {
            "type": "string",
            "description": "ID de tâche",
            "example": "task-unified-1757169743-7cvnl5zw"
          },
          "model": {
            "type": "string",
            "description": "Nom du modèle utilisé",
            "example": "MiniMax-Hailuo-02"
          },
          "object": {
            "type": "string",
            "enum": [
              "video.generation.task"
            ],
            "description": "Type de tâche"
          },
          "progress": {
            "type": "integer",
            "description": "Progression de la tâche (0-100)",
            "minimum": 0,
            "maximum": 100,
            "example": 0
          },
          "status": {
            "type": "string",
            "description": "Statut de la tâche",
            "enum": [
              "pending",
              "processing",
              "completed",
              "failed"
            ],
            "example": "pending"
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "error": {
            "type": "object",
            "properties": {
              "code": {
                "type": "integer",
                "description": "Code d'erreur HTTP"
              },
              "message": {
                "type": "string",
                "description": "Description de l'erreur"
              },
              "type": {
                "type": "string",
                "description": "Type d'erreur"
              },
              "param": {
                "type": "string",
                "description": "Paramètre associé"
              },
              "fallback_suggestion": {
                "type": "string",
                "description": "Solution suggérée"
              }
            }
          }
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "description": "##Toutes les API nécessitent une authentification Bearer Token##\n\n**Obtenir une clé API :**\n\nVisitez la [Page de gestion des clés API](https://evolink.ai/dashboard/keys) pour obtenir votre clé API\n\n**Ajouter à l'en-tête de requête :**\n```\nAuthorization: Bearer YOUR_API_KEY\n```"
      }
    }
  }
}