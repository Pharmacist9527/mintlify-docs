---
title: "Codex CLI"
description: "Connecter Codex CLI à EvoLink.AI"
---

## Aperçu

![Codex CLI Interface](/images/integration-guide/codex-interface.png)

Codex CLI est l'outil en ligne de commande officiel d'OpenAI pour les tâches liées au code dans le terminal. Comparé aux outils de chat généraux, il met l'accent sur des résultats prêts pour l'ingénierie avec des modifications de code plus claires et exploitables.
En intégrant Codex CLI avec **EvoLink API**, vous pouvez accéder aux modèles d'EvoLink (tels que la **série GPT**) via une interface unifiée compatible OpenAI avec une seule clé et une seule URL de base.

## Prérequis

Avant de configurer, assurez-vous d'avoir :

### 1. Installer Node.js et npm

**Pourquoi est-ce nécessaire ?** Node.js est l'environnement d'exécution pour les outils CLI (comme installer WeChat sur votre téléphone pour discuter, vous devez installer Node.js sur votre ordinateur pour exécuter les outils CLI).

**Si déjà installé :** Exécutez `node -v` et `npm -v` pour vérifier la version. Si v20+, passez cette étape.

**Première installation :**
- Téléchargez et installez depuis le [site officiel de Node.js](https://nodejs.org/) (version LTS recommandée)
- Si vous n'êtes pas familier avec le processus d'installation, consultez le [Guide d'installation Node.js de Runoob](https://www.runoob.com/nodejs/nodejs-install-setup.html)
- Recommandé : **Node.js v20 ou supérieur**
- Vérifiez l'installation :

```bash
node -v
npm -v
```

![Vérification des versions de Node.js et npm](/images/integration-guide/claude-node-npm-verify.png)

### 2. Obtenir une clé API EvoLink

- Connectez-vous au [Tableau de bord EvoLink](https://evolink.ai/dashboard)
- Trouvez les clés API dans le tableau de bord, cliquez sur le bouton « Créer une nouvelle clé », puis copiez la clé générée
- La clé API commence généralement par `sk-`

## Étape 1 : Installer Codex CLI

<Note>
**Astuce :** Si vous ne savez pas comment ouvrir un terminal en ligne de commande, consultez [FAQ - Comment ouvrir un terminal en ligne de commande](#13-comment-ouvrir-un-terminal-en-ligne-de-commande)
</Note>

### 1. Installation globale

```bash
npm install -g @openai/codex
```

**Résultat attendu :** Des informations de téléchargement défilent, se terminant par `added XX packages` (prend 1 à 3 minutes).

**En cas d'erreur :** `permission denied` signifie que sous Windows il faut exécuter PowerShell en tant qu'administrateur, sous macOS/Linux ajoutez `sudo` avant la commande.

### 2. Vérifier l'installation

```bash
codex --version
```

**Indicateur de succès :** Affiche le numéro de version (par ex., `1.x.x`).

![Codex CLI Version](/images/integration-guide/codex-version.png)

## Étape 2 : Configurer l'API EvoLink

Codex CLI prend en charge un fournisseur personnalisé via un fichier de configuration, aucune modification du code source n'est nécessaire.

<Tabs>
  <Tab title="Méthode 1 : Opération via l'interface graphique">
    ### 1. Ouvrir le répertoire de configuration

    <Tabs>
      <Tab title="Windows">
        Appuyez sur `Win + R`, collez ce qui suit, puis appuyez sur Entrée pour ouvrir le répertoire de configuration de Codex :
        ```
        %userprofile%\.codex
        ```
        ![Windows Win+R ouvrir le terminal](/images/integration-guide/encodexwin-r.png)

      </Tab>
      <Tab title="macOS">
        Dans le Finder, appuyez sur `Command + Shift + G`, collez le chemin suivant, puis appuyez sur Entrée :
        ```
        ~/.codex
        ```
      </Tab>
      <Tab title="Linux">
        Accédez au répertoire de configuration dans votre gestionnaire de fichiers :
        ```
        ~/.codex
        ```
      </Tab>
    </Tabs>
    ![Environnement de configuration Codex CLI](/images/integration-guide/codex-config-env-en.png)
    ### 2. Modifier config.toml

    Trouvez le fichier `config.toml` dans le répertoire de configuration et modifiez-le avec le contenu suivant :

    ```toml
    model = "gpt-5.2"
    model_reasoning_effort = "medium"
    model_provider = "evolink"

    [model_providers.evolink]
    name = "EvoLink API"
    base_url = "https://code.evolink.ai/v1"
    env_key = "OPENAI_API_KEY"
    wire_api = "responses"
    ```


    **Attention :**
    - **Copiez intégralement** sans oublier aucun symbole
    - Remplacez `"your-evolink-api-key"` par votre véritable clé API
    - Le format TOML est sensible à l'indentation et aux symboles
  </Tab>

  <Tab title="Méthode 2 : Création en une seule commande">
    <Tabs>
      <Tab title="Windows PowerShell">
        ```powershell
@"
model = "gpt-5.2"
model_reasoning_effort = "medium"
model_provider = "evolink"

[model_providers.evolink]
name = "EvoLink API"
base_url = "https://code.evolink.ai/v1"
env_key = "OPENAI_API_KEY"
wire_api = "responses"
"@ | Out-File -FilePath "$env:USERPROFILE\.codex\config.toml" -Encoding utf8
        ```
    ![Configuration Codex en une commande](/images/integration-guide/codex-one-command-config-win.png)
      </Tab>
      <Tab title="macOS / Linux">
        ```bash
cat > ~/.codex/config.toml << 'EOF'
model = "gpt-5.2"
model_reasoning_effort = "medium"
model_provider = "evolink"

[model_providers.evolink]
name = "EvoLink API"
base_url = "https://code.evolink.ai/v1"
env_key = "OPENAI_API_KEY"
wire_api = "responses"
EOF
        ```
      </Tab>
    </Tabs>

    Après avoir exécuté la commande, le fichier de configuration sera automatiquement créé et écrit.
  </Tab>
</Tabs>

```toml
model = "gpt-5.2"
model_reasoning_effort = "medium"
model_provider = "evolink"

[model_providers.evolink]
name = "EvoLink API"
base_url = "https://code.evolink.ai/v1"
env_key = "OPENAI_API_KEY"
wire_api = "responses"
```

Champs de configuration :
- `model` : nom du modèle par défaut
- `model_reasoning_effort` : profondeur de raisonnement (à ajuster selon les besoins)
- `model_provider` : nom du fournisseur correspondant à la section ci-dessous
- `base_url` : point de terminaison de l'API EvoLink
- `env_key` : nom de la variable d'environnement pour la clé API
- `wire_api` : doit être `responses`

### 2. Configurer la clé API

<Tabs>
  <Tab title="Windows PowerShell">
    **Temporaire (session en cours uniquement)**
    ```powershell
    $env:OPENAI_API_KEY = "your-evolink-api-key"
    ```

    **Permanent**
    ```powershell
    [Environment]::SetEnvironmentVariable("OPENAI_API_KEY", "your-evolink-api-key", "User")
    ```
    Redémarrez le terminal pour que les modifications prennent effet.

    **Vérifier la configuration**
    ```powershell
    echo $env:OPENAI_API_KEY
    ```

    ![Vérifier si la variable d'environnement a été ajoutée avec succès](/images/integration-guide/codex-check-env.png)

    Si votre clé API s'affiche, la configuration est réussie.
  </Tab>
  <Tab title="macOS / Linux">
    **Temporaire (session en cours uniquement)**
    ```bash
    export OPENAI_API_KEY="your-evolink-api-key"
    ```

    **Permanent**
    Modifiez `~/.bashrc` ou `~/.zshrc`, ajoutez :
    ```bash
    export OPENAI_API_KEY="your-evolink-api-key"
    ```
    Puis exécutez `source ~/.bashrc` ou `source ~/.zshrc` pour appliquer, ou redémarrez le terminal.

    **Vérifier la configuration**
    ```bash
    echo $OPENAI_API_KEY
    ```
    Si votre clé API s'affiche, la configuration est réussie.
  </Tab>
</Tabs>

## Étape 3 : Commencer à utiliser Codex CLI

### 1. Accéder au répertoire de travail

```shell
cd your-working-directory
```

**Remarque :** Remplacez `your-working-directory` par le chemin réel

### 2. Mode interactif

```shell
codex
```
![Codex CLI Interface](/images/integration-guide/codex-interface.png)
### 3. Vérifier la configuration

```shell
codex "Who are you"
```

**Indicateurs de succès :**
- Vous voyez du texte de réponse de l'IA (plusieurs lignes)
- **Aucune** erreur telle que `401`, `403`, `API Key invalid`

**Si vous voyez des erreurs :**
- `401 Unauthorized` : Clé API non définie ou invalide -> Vérifiez la variable d'environnement
- `403 Forbidden` : Permissions insuffisantes de la clé API -> Vérifiez la clé API
- `Network error` : Problème réseau -> Vérifiez la connexion

## FAQ

### 1. Qu'est-ce que Codex CLI et à quoi sert-il ?
Codex CLI est l'outil en ligne de commande officiel d'OpenAI axé sur les tâches liées au code. Il met l'accent sur des résultats prêts pour l'ingénierie avec des modifications de code plus claires et exploitables.

### 2. Comment vérifier l'installation et la configuration lors de la première utilisation ?
Exécutez ces commandes dans l'ordre :
- `node -v` et `npm -v` : Confirmez que Node.js et npm sont installés
- `codex --version` : Confirmez que Codex CLI est installé
- `codex "Who are you"` : Confirmez que la configuration de l'API est correcte

### 3. Quelle est la différence entre le mode interactif et le mode commande unique ?
- **Mode interactif** : Exécutez `codex` pour entrer en conversation continue pour des interactions multi-tours
- **Mode commande unique** : Exécutez `codex "question"` pour obtenir une seule réponse et quitter

### 4. Codex CLI lira-t-il ou téléchargera-t-il automatiquement mes fichiers et mon code locaux ?
Non. Codex CLI ne lit le contenu des fichiers que lorsque vous le référencez ou l'autorisez explicitement. Il est recommandé de l'utiliser dans un dossier de projet dédié.

### 5. Comment utiliser Codex CLI pour analyser le contenu de fichiers locaux ?
En mode interactif, vous pouvez référencer des fichiers en :
- Tapant le chemin du fichier pour que Codex le lise
- Glissant des fichiers dans la fenêtre du terminal
- Copiant et collant le contenu du fichier

### 6. Codex CLI prend-il en charge la saisie et la sortie en chinois ?
Oui, entièrement pris en charge.

### 7. Aucune sortie après l'exécution — quelle pourrait en être la cause ?
Les causes courantes incluent :
- Problèmes de connexion réseau
- Clé API invalide ou solde insuffisant
- Configuration incorrecte de `base_url`
- Pare-feu ou proxy bloquant les requêtes

### 8. Pourquoi mes modifications de configuration ne prennent-elles pas effet ?
- Redémarrez votre terminal
- Vérifiez la syntaxe de `config.toml` (format TOML)
- Vérifiez le chemin du fichier de configuration :
  - Windows : `C:\Users\{username}\.codex\config.toml`
  - macOS / Linux : `~/.codex/config.toml`

### 9. Quelles sont les causes des erreurs 401/403 ?
- **Erreur 401** : `OPENAI_API_KEY` non définie ou invalide
- **Erreur 403** : Permissions insuffisantes ou clé expirée
- Vérifiez que `env_key` correspond au nom de votre variable d'environnement

### 10. Pour quels scénarios Codex CLI est-il adapté ?
**Adapté pour :**
- Écriture, débogage et refactorisation de code
- Questions-réponses rapides dans les environnements en ligne de commande
- Analyse du contenu de fichiers

**Non adapté pour :**
- Interactions GUI complexes
- Édition collaborative en temps réel

### 11. Comment changer de modèle ?
Ouvrez le fichier de configuration `config.toml` (situé à `~/.codex/config.toml` ou `C:\Users\{username}\.codex\config.toml`), et modifiez le champ `model` :

```toml
model = "gpt-5.2"  # Change to your desired model name
```

Enregistrez le fichier et redémarrez Codex CLI pour que les modifications prennent effet.

### 12. Comment télécharger des images ?
- Option 1 : Référencer le chemin de l'image
- Option 2 : Glisser-déposer une image dans le terminal
- Option 3 : Coller une image directement

Toutes les méthodes nécessitent une action de l'utilisateur — Codex CLI ne lira ni ne téléchargera automatiquement les images locales.

### 13. Comment ouvrir un terminal en ligne de commande ?

<Tabs>
  <Tab title="Windows">
    - Méthode 1 : Appuyez sur `Win + R`, tapez `cmd` ou `powershell`, puis appuyez sur Entrée
    - Méthode 2 : Recherchez « Invite de commandes » ou « PowerShell » dans le menu Démarrer
    - Méthode 3 : Maintenez Shift et faites un clic droit dans un dossier, sélectionnez « Ouvrir une fenêtre PowerShell ici »
  </Tab>
  <Tab title="macOS">
    - Méthode 1 : Appuyez sur `Command + Space` pour ouvrir Spotlight, tapez `Terminal`, puis appuyez sur Entrée
    - Méthode 2 : Allez dans « Applications » -> « Utilitaires » -> « Terminal »
  </Tab>
  <Tab title="Linux">
    - Méthode 1 : Appuyez sur le raccourci `Ctrl + Alt + T`
    - Méthode 2 : Recherchez « Terminal » dans le menu des applications
  </Tab>
</Tabs>

## Remarques

<Warning>
Exécutez Codex CLI dans un dossier de projet dédié. Évitez de l'exécuter dans des répertoires sensibles (tels que les dossiers système ou les répertoires contenant des identifiants). Codex CLI opère à partir du répertoire de travail actuel.
</Warning>

<Tip>
Le `wire_api` dans la configuration doit être défini sur `"responses"`. `"chat"` est obsolète.
</Tip>
