---
title: "Gemini CLI"
description: "Gemini CLI を EvoLink.AI に接続する"
---

## 概要

![Gemini CLI Interface](/images/integration-guide/image-2.png)

Gemini CLI は、ターミナルで Gemini モデルと対話するための Google 公式コマンドラインツールです。
Gemini CLI を **EvoLink API** と統合することで、公式モデルの制限を超え、**Gemini、GPT、Claude** シリーズモデルを含む EvoLink の幅広いモデルセットに、一つのエントリーポイントからアクセスできます。

## 前提条件

設定を始める前に、以下を準備してください：

### 1. Node.js と npm のインストール

**なぜ必要？** Node.js は CLI ツールのランタイム環境です（スマホで WeChat を使うためにアプリをインストールするように、CLI ツールを実行するにはパソコンに Node.js をインストールする必要があります）。

**既にインストール済みの場合：** `node -v` と `npm -v` を実行してバージョンを確認してください。v20 以上であれば、このステップはスキップできます。

**初めてインストールする場合：**
- [Node.js 公式サイト](https://nodejs.org/)からダウンロードしてインストール（LTS バージョン推奨）
- インストール手順に不慣れな場合は、[Runoob - Node.js インストールガイド](https://www.runoob.com/nodejs/nodejs-install-setup.html)を参照してください
- 推奨：**Node.js v20 以上**
- インストールの確認：

```bash
node -v
npm -v
```

![Node.js and npm version verification](/images/integration-guide/claude-node-npm-verify.png)

### 2. EvoLink API Key の取得

- [EvoLink Dashboard](https://evolink.ai/dashboard) にログイン
- ダッシュボードで API Keys を見つけ、「新しいキーを作成」ボタンをクリックし、生成されたキーをコピー
- API Key は通常 `sk-` で始まります

## ステップ 1：Gemini CLI のインストール

<Note>
**ヒント：** コマンドラインターミナルの開き方がわからない場合は、[FAQ - コマンドラインターミナルの開き方](#13-コマンドラインターミナルの開き方)を参照してください
</Note>

### 1. インストールコマンド

```bash
npm install -g @google/gemini-cli
```

**期待される結果：** ダウンロード情報がスクロール表示され、最後に `added XX packages` と表示されます（1〜3分かかります）。

**エラーが発生した場合：** `permission denied` の場合、Windows では「管理者として実行」した PowerShell が必要です。macOS/Linux ではコマンドの前に `sudo` を追加してください。

### 2. インストールの確認

```bash
gemini --version
```

**成功の目安：** バージョン番号が表示されます（例：`1.x.x`）。

![Gemini CLI Version](/images/integration-guide/gemini-version.png)

## ステップ 2：EvoLink API の設定

**⚠️ 重要：** Gemini CLI の設定は他のツールより**やや複雑**で、インストールファイルの修正が必要です。プログラミング初心者の方は、まず **Claude CLI** や **Codex CLI**（設定がより簡単）の使用を検討してください。

### 1. インストールディレクトリの確認

```bash
npm root -g
```

**以下のようなパスが表示されます：**
- Windows: `C:\Users\YourUsername\AppData\Roaming\npm\node_modules`
- macOS: `/usr/local/lib/node_modules`
- Linux: `/usr/lib/node_modules`

![Find Gemini CLI installation directory](/images/integration-guide/gemini-find-install-dir.png)

### 2. API エンドポイントの修正

2つのファイルを修正します：

![File location](/images/integration-guide/gemini-modify-api.png)

**ファイル 1：** `{install_dir}\@google\gemini-cli\node_modules\@google\genai\dist\node\index.mjs`

**約11222行目**を見つけてください：

```javascript
// 変更前
initHttpOptions.baseUrl = `https://generativelanguage.googleapis.com/`;

// 変更後
initHttpOptions.baseUrl = `https://code.evolink.ai/`;
```

![Modify mjs file](/images/integration-guide/gemini-mjs-modify.png)

**ファイル 2：** `{install_dir}\@google\gemini-cli\node_modules\@google\genai\dist\node\index.cjs`

**約11244行目**を見つけ、同じ変更を行います。

![Modify cjs file](/images/integration-guide/gemini-cjs-modify.png)

### 3. API Key の設定

<Tabs>
  <Tab title="Windows PowerShell">
    **一時的（現在のセッションのみ）**
    ```powershell
    $env:GEMINI_API_KEY = "your-evolink-api-key"
    ```

    **永続的**
    ```powershell
    [Environment]::SetEnvironmentVariable("GEMINI_API_KEY", "your-evolink-api-key", "User")
    ```
    変更を反映するにはターミナルを再起動してください。

    **設定の確認**
    ```powershell
    echo $env:GEMINI_API_KEY
    ```
    API Key が出力されれば、設定は成功です。

    ![Check environment variable](/images/integration-guide/gemini-check-env.png)
  </Tab>
  <Tab title="macOS / Linux">
    **一時的（現在のセッションのみ）**
    ```bash
    export GEMINI_API_KEY="your-evolink-api-key"
    ```

    **永続的**
    `~/.bashrc` または `~/.zshrc` を編集し、以下を追加：
    ```bash
    export GEMINI_API_KEY="your-evolink-api-key"
    ```
    その後 `source ~/.bashrc` または `source ~/.zshrc` を実行して反映するか、ターミナルを再起動してください。

    **設定の確認**
    ```bash
    echo $GEMINI_API_KEY
    ```
    API Key が出力されれば、設定は成功です。
  </Tab>
</Tabs>

## ステップ 3：Gemini CLI を使い始める

### 1. 作業ディレクトリに移動

```shell
cd your-working-directory
```

**注意：** `your-working-directory` を実際のパスに置き換えてください

### 2. 単発クエリモード

```shell
gemini "Who are you"
```

### 3. 対話モード

```shell
gemini
```

![Gemini CLI Interface](/images/integration-guide/gemini-interface.png)

**成功の目安：**
- AI の応答テキストが表示される（数行）
- `401`、`403`、`API Key invalid` などのエラーが**表示されない**

**エラーが表示された場合：**
- `401 Unauthorized`：API Key が未設定または無効 → 環境変数を確認してください
- `403 Forbidden`：API Key の権限が不足 → API エンドポイントの修正を確認してください
- `Network error`：ネットワークの問題 → 接続を確認してください

## よくある質問

### 1. Gemini CLI とは何ですか？何に使えますか？
Gemini CLI は、ターミナルで Gemini モデルと対話するための Google 公式コマンドラインツールです。EvoLink の設定を行うことで、GPT、Claude などの他のモデルにもアクセスできます。

### 2. 初回使用時にインストールと設定を確認するには？
以下のコマンドを順番に実行してください：
- `node -v` と `npm -v`：Node.js と npm がインストールされていることを確認
- `gemini --version`：Gemini CLI がインストールされていることを確認
- `gemini "Who are you"`：API 設定が正しいことを確認

### 3. 対話モードと単発コマンドモードの違いは？
- **対話モード**：`gemini` を実行して連続会話に入り、複数回のやり取りが可能
- **単発コマンドモード**：`gemini "質問"` を実行して単一の応答を取得し終了

### 4. Gemini CLI はローカルファイルやコードを自動的に読み取りまたはアップロードしますか？
いいえ。Gemini CLI は、明示的に参照または許可した場合にのみファイル内容を読み取ります。専用のプロジェクトフォルダで使用することを推奨します。

### 5. Gemini CLI でローカルファイルの内容を分析するには？
対話モードで、以下の方法でファイルを参照できます：
- ファイルパスを入力して Gemini に読み取らせる
- ファイルをターミナルウィンドウにドラッグ＆ドロップする

### 6. Gemini CLI は日本語の入出力に対応していますか？
はい、完全に対応しています。

### 7. 実行後に何も出力されない場合、原因は？
よくある原因：
- ネットワーク接続の問題
- API Key が無効、または残高不足
- API エンドポイントの設定が正しくない
- ファイアウォールまたはプロキシがリクエストをブロックしている

### 8. API エンドポイントや環境変数の変更が反映されないのはなぜ？
- ターミナルまたはコマンドラインウィンドウを再起動してください
- `GEMINI_API_KEY` 環境変数が正しく設定されていることを確認してください
- API エンドポイントファイルが正しく修正されていることを確認してください（node_modules 内の .mjs と .cjs ファイルの修正が必要）

### 9. 401/403 エラーの原因は？
- **401 エラー**：`GEMINI_API_KEY` が未設定または無効
- **403 エラー**：権限不足またはキーの有効期限切れ
- API エンドポイントが `https://code.evolink.ai/` であることを確認してください

### 10. Gemini CLI はどのようなシーンに適していますか？
**適しているシーン：**
- コードの作成、デバッグ、リファクタリング
- コマンドライン環境での素早い Q&A
- ファイル内容の分析
- 自動化スクリプトとの統合

**適していないシーン：**
- 複雑な GUI 操作
- リアルタイム共同編集
- 大規模なバッチファイル処理

### 11. モデルを切り替えるには？
対話モードで `/model` と入力してください。

![Gemini CLI Switch Model](/images/integration-guide/image-3.png)

利用可能なモデル：
- `gemini-2.5-pro`
- `gemini-2.5-flash`
- `gemini-3-pro-preview`
- `gemini-3-flash-preview`

### 12. 画像をアップロードするには？
- 方法 1：画像のパスを参照する
- 方法 2：画像をターミナルにドラッグ＆ドロップする

いずれの方法もユーザーの操作が必要です。Gemini CLI がローカル画像を自動的に読み取りまたはアップロードすることはありません。

### 13. コマンドラインターミナルの開き方

<Tabs>
  <Tab title="Windows">
    - 方法 1：`Win + R` を押し、`cmd` または `powershell` と入力して Enter を押す
    - 方法 2：スタートメニューで「コマンド プロンプト」または「PowerShell」を検索する
    - 方法 3：フォルダ内で Shift を押しながら右クリックし、「PowerShell ウィンドウをここで開く」を選択する
  </Tab>
  <Tab title="macOS">
    - 方法 1：`Command + Space` を押して Spotlight を開き、`Terminal` と入力して Enter を押す
    - 方法 2：「アプリケーション」→「ユーティリティ」→「ターミナル」を開く
  </Tab>
  <Tab title="Linux">
    - 方法 1：`Ctrl + Alt + T` ショートカットを押す
    - 方法 2：アプリケーションメニューで「Terminal」を検索する
  </Tab>
</Tabs>

## 注意事項

<Warning>
Gemini CLI は専用のプロジェクトフォルダで実行してください。機密性の高いディレクトリ（システムフォルダや認証情報を含むディレクトリなど）での実行は避けてください。Gemini CLI は現在の作業ディレクトリを起点として動作します。
</Warning>
