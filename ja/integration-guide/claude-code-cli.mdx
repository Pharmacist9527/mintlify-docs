---
title: "Claude Code CLI"
description: "Claude Code CLI を EvoLink.AI に接続する"
---

## 概要

![Claude Code CLI Interface](/images/integration-guide/image-9.png)

Claude Code CLI は、Anthropic が提供するターミナルで Claude モデルと対話するための公式コマンドラインツールです。
Claude Code CLI を **EvoLink API** と統合することで、EvoLink を通じて Claude モデルの機能に直接アクセスできます。

## 前提条件

設定を行う前に、以下を準備してください：

### EvoLink API キーの取得

- [EvoLink ダッシュボード](https://evolink.ai/dashboard) にログインします
- ダッシュボードで API Keys を見つけ、「Create New Key」ボタンをクリックし、生成されたキーをコピーします
- API キーは通常 `sk-` で始まります

## ステップ 1：Claude Code CLI のインストール

<Note>
**ヒント：** コマンドラインターミナルの開き方がわからない場合は、[FAQ - コマンドラインターミナルの開き方](#14-コマンドラインターミナルの開き方) を参照してください
</Note>

### 1. ワンコマンドインストール

<Tabs>
  <Tab title="macOS / Linux">
    ```bash
    curl -fsSL https://claude.ai/install.sh | bash
    ```

    **期待される結果：** ダウンロードとインストールの情報が表示され、最後に成功メッセージが表示されます。

    **エラーが発生した場合：** `permission denied` と表示された場合は、コマンドの前に `sudo` を追加してください。
  </Tab>
  <Tab title="Windows">
    ### 1.1 Node.js と npm のインストール（インストール済みの場合はスキップ）

    **初回インストール：**
    1. [Node.js 公式サイト](https://nodejs.org/) にアクセスしてダウンロード・インストールします（LTS バージョン推奨）
    2. インストール手順に不慣れな場合は、[Node.js インストールガイド](https://nodejs.org/ja/download/package-manager) を参照してください
    3. Node.js v20 以上を推奨します

    **インストールの確認：**
    ```bash
    node -v
    npm -v
    ```
    ![Node.js and npm version verification](/images/integration-guide/claude-node-npm-verify.png)

    ### 1.2 Claude Code CLI のインストール

    PowerShell または CMD で実行します：
    ```bash
    npm install -g @anthropic-ai/claude-code
    ```

    **期待される結果：** ダウンロードとインストールの情報が表示され、最後に成功メッセージが表示されます。

    **エラーが発生した場合：**
    - `permission denied`：PowerShell または CMD を管理者として実行してください
    - `npm command not found`：Node.js が正しくインストールされていないか、環境変数に追加されていません
  </Tab>
</Tabs>

**注意：** macOS/Linux はワンコマンドインストールスクリプトを使用し、Windows は npm でインストールします。

### 2. インストールの確認

```bash
claude --version
```

**成功の目安：** バージョン番号が表示されます（例：`1.x.x`）。

![Claude Code CLI Version](/images/integration-guide/image-copy.png)

## ステップ 2：EvoLink API の設定

Claude Code CLI は `settings.json` で設定します。

<Tabs>
  <Tab title="方法 1：settings.json で設定（推奨）">
    <Note>
    **注意：** Claude Code CLI を初めて使用する場合は、まず「方法 2：一時的な設定」で設定をテストしてから、この方法で永続的な設定を行うことをお勧めします。
    </Note>

    ### 1. 設定ディレクトリを開く

    <Tabs>
      <Tab title="Windows">
        `Win + R` を押し、以下を貼り付けて Enter を押します：
        ```
        %userprofile%\.claude
        ```
        **フォルダが存在しない場合**：`.claude` フォルダを手動で作成します（`Win + R` を押し、`%userprofile%` と入力して Enter を押してユーザーディレクトリを開き、`.claude` という名前の新しいフォルダを作成します）。

        ![Windows Win+R open terminal](/images/integration-guide/enclaudewin-r.png)
      </Tab>
      <Tab title="macOS">
        Finder で `Command + Shift + G` を押し、以下のパスを貼り付けて Enter を押します：
        ```
        ~/.claude
        ```
        **フォルダが存在しない場合**：ターミナルを開き、`mkdir ~/.claude` を実行してフォルダを作成します。
      </Tab>
      <Tab title="Linux">
        ファイルマネージャーを開き、以下に移動します：
        ```
        ~/.claude
        ```
        **フォルダが存在しない場合**：ターミナルを開き、`mkdir ~/.claude` を実行してフォルダを作成します。
      </Tab>
    </Tabs>

    ### 2. settings.json を編集する

    開いたフォルダ内に `settings.json` が存在しない場合は、空白部分を右クリック → 新規作成 → テキストドキュメント → `settings.json` にリネーム（`.txt` 拡張子を削除）します。次にダブルクリックしてエディタで開き、以下の内容を追加します：

    ```json
    {
      "env": {
        "ANTHROPIC_AUTH_TOKEN": "your-evolink-api-key",
        "ANTHROPIC_BASE_URL": "https://code.evolink.ai",
        "CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC": "1"
      },
      "permissions": {
        "allow": [],
        "deny": []
      }
    }
    ```

    **⚠️ 重要：**
    - 記号を漏らさず**完全にコピー**してください
    - `"your-evolink-api-key"` を実際の API キーに置き換えてください（引用符は残す）
    - 句読点に全角入力を使用しないでください

    **設定オプション：**
    - `ANTHROPIC_AUTH_TOKEN`：EvoLink API キー
    - `ANTHROPIC_BASE_URL`：`https://code.evolink.ai`（EvoLink API エンドポイント）
    - `CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC`：不要なネットワークリクエストを削減

    ![Claude Code CLI configuration environment](/images/integration-guide/claude-config-env-en.png)
  </Tab>
  <Tab title="方法 2：一時的な設定（現在のターミナルのみ）">
    <Tabs>
      <Tab title="Windows">
        PowerShell の場合：
        ```powershell
        $env:ANTHROPIC_BASE_URL="https://code.evolink.ai"
        $env:ANTHROPIC_AUTH_TOKEN="your-evolink-api-key"
        ```

        CMD の場合：
        ```cmd
        set ANTHROPIC_BASE_URL=https://code.evolink.ai
        set ANTHROPIC_AUTH_TOKEN=your-evolink-api-key
        ```

        **注意：** ターミナルを閉じると設定は無効になります。
      </Tab>
      <Tab title="macOS / Linux">
        ターミナルで：
        ```bash
        export ANTHROPIC_BASE_URL="https://code.evolink.ai"
        export ANTHROPIC_AUTH_TOKEN="your-evolink-api-key"
        ```

        **注意：** ターミナルを閉じると設定は無効になります。
      </Tab>
    </Tabs>

    **⚠️ 注意**：`your-evolink-api-key` を実際の API キーに置き換えてください。

  </Tab>
  <Tab title="方法 3：永続的な設定（グローバル）">
    <Tabs>
      <Tab title="Windows">
        **GUI での設定：**

        1. 「PC」を右クリック →「プロパティ」→「システムの詳細設定」→「環境変数」
        2. 「ユーザー変数」または「システム変数」で新規作成：
           - 変数名：`ANTHROPIC_BASE_URL`
           - 変数値：`https://code.evolink.ai`
        3. `ANTHROPIC_AUTH_TOKEN` を追加し、API キーを値として設定します
        4. 「OK」をクリックして保存します

        **PowerShell コマンド：**
        ```powershell
        [System.Environment]::SetEnvironmentVariable('ANTHROPIC_BASE_URL', 'https://code.evolink.ai', 'User')
        [System.Environment]::SetEnvironmentVariable('ANTHROPIC_AUTH_TOKEN', 'your-evolink-api-key', 'User')
        ```

        **注意：** 有効にするにはターミナルを再起動してください。
      </Tab>
      <Tab title="macOS">
        シェル設定ファイルを編集します（使用しているシェルに応じて選択）：

        **zsh を使用している場合（macOS デフォルト）：**
        ```bash
        echo 'export ANTHROPIC_BASE_URL="https://code.evolink.ai"' >> ~/.zshrc
        echo 'export ANTHROPIC_AUTH_TOKEN="your-evolink-api-key"' >> ~/.zshrc
        ```

        **bash を使用している場合：**
        ```bash
        echo 'export ANTHROPIC_BASE_URL="https://code.evolink.ai"' >> ~/.bash_profile
        echo 'export ANTHROPIC_AUTH_TOKEN="your-evolink-api-key"' >> ~/.bash_profile
        ```

        **即座に反映：**
        ```bash
        source ~/.zshrc  # or source ~/.bash_profile
        ```
      </Tab>
      <Tab title="Linux">
        シェル設定ファイルを編集します（使用しているシェルに応じて選択）：

        **bash を使用している場合（Linux で一般的）：**
        ```bash
        echo 'export ANTHROPIC_BASE_URL="https://code.evolink.ai"' >> ~/.bashrc
        echo 'export ANTHROPIC_AUTH_TOKEN="your-evolink-api-key"' >> ~/.bashrc
        ```

        **zsh を使用している場合：**
        ```bash
        echo 'export ANTHROPIC_BASE_URL="https://code.evolink.ai"' >> ~/.zshrc
        echo 'export ANTHROPIC_AUTH_TOKEN="your-evolink-api-key"' >> ~/.zshrc
        ```

        **即座に反映：**
        ```bash
        source ~/.bashrc  # or source ~/.zshrc
        ```
      </Tab>
    </Tabs>

    **⚠️ 注意**：`your-evolink-api-key` を実際の API キーに置き換えてください。

  </Tab>
</Tabs>

## ステップ 3：Claude Code CLI の使用開始

### 1. 安全な作業ディレクトリに移動する

```bash
cd your-working-directory
```

**注意：** `your-working-directory` を実際のパスに置き換えてください

### 2. インタラクティブモード

```shell
claude
```

![Claude Code CLI interface](/images/integration-guide/claude-interface.png)

### 3. 設定の確認

```shell
claude "Who are you"
```

**成功の目安：**
- AI の応答テキストが表示される（数行）
- `401`、`403`、`API Key invalid` などのエラーが**表示されない**

**エラーが表示された場合：**
- `401 Unauthorized`：API キーが設定されていないか無効 → settings.json を確認してください
- `403 Forbidden`：API キーの権限が不足 → API キーを確認してください
- `Network error`：ネットワークの問題 → 接続を確認してください

## よくある質問

### 1. Claude Code CLI とは何ですか？何に使いますか？
Claude Code CLI は Anthropic が提供する公式コマンドラインツールで、ターミナルで Claude モデルと対話できます。主にコード支援、テキスト生成、Q&A 会話、ファイル分析に使用され、コマンドライン環境で素早く AI 機能を利用したい開発者に特に適しています。

### 2. 初回使用時にインストールと設定を確認するには？
以下のコマンドを順番に実行します：
- `claude --version`：Claude Code CLI がインストールされていることを確認
- `claude "Who are you"`：API 設定が正しいことを確認

### 3. インタラクティブモードとシングルコマンドモードの違いは？
- **インタラクティブモード**：`claude` を実行して連続会話に入り、複数ターンの対話が可能で、複雑なタスクに最適です
- **シングルコマンドモード**：`claude "質問"` を実行して単一の応答を取得して終了し、素早い問い合わせに最適です

### 4. Claude Code CLI はローカルファイルやコードを自動的に読み取りまたはアップロードしますか？
いいえ。Claude Code CLI は、明示的に参照または許可した場合にのみファイル内容を読み取り、機密性の高い操作を実行する前に確認を求めます。専用のプロジェクトフォルダで使用することをお勧めします。

### 5. Claude Code CLI でローカルファイルの内容を分析・処理するには？
インタラクティブモードで、以下の方法でファイルを参照できます：
- ファイルパスを入力して Claude に読み取らせる
- ファイルをターミナルウィンドウにドラッグ＆ドロップする
- ファイルの内容をコピー＆ペーストする

### 6. Claude Code CLI は日本語の入出力に対応していますか？
はい、完全に対応しています。Claude Code CLI は日本語の入出力をサポートしており、日本語で質問して日本語で回答を受け取ることができます。

### 7. 実行後に出力がない場合、原因は何ですか？
一般的な原因：
- ネットワーク接続の問題で API サーバーにアクセスできない
- API キーが無効またはバランス不足
- `ANTHROPIC_BASE_URL` の設定が正しくない
- ファイアウォールまたはプロキシがリクエストをブロックしている

### 8. 設定ファイルや環境変数の変更が反映されないのはなぜですか？
- ターミナルまたはコマンドラインウィンドウを再起動してください
- `settings.json` の JSON 構文が正しいか確認してください
- 設定ファイルのパスを確認してください：
  - Windows: `C:\Users\{username}\.claude\settings.json`
  - macOS / Linux: `~/.claude/settings.json`

### 9. 401/403 エラーの原因は？
- **401 エラー**：`ANTHROPIC_AUTH_TOKEN` が設定されていないか、API キーが無効
- **403 エラー**：API キーの権限が不足しているか、キーの有効期限が切れている
- `ANTHROPIC_BASE_URL` が `https://code.evolink.ai` に設定されていることを確認してください

### 10. Claude Code CLI はどのようなシナリオに適していますか？適していないシナリオは？
**適しているシナリオ：**
- コードの作成、デバッグ、リファクタリング
- コマンドライン環境での素早い Q&A
- ファイル内容の分析と処理
- 自動化スクリプトの統合

**適していないシナリオ：**
- グラフィカルインターフェースが必要な複雑なインタラクション
- リアルタイム共同編集
- 大規模なバッチファイル処理

### 11. モデルを切り替えるには？
インタラクティブモードで `/model` と入力してモデルを切り替えます。

### 12. EvoLink はどの Claude モデルに対応していますか？
EvoLink は以下の Claude モデルに対応しています：

| モデル名 | 説明 |
|------------|-------------|
| `claude-haiku-4-5-20251001` | 高速応答 |
| `claude-sonnet-4-20250514` | スタンダード |
| `claude-opus-4-1-20250805` | アドバンスド |
| `claude-opus-4-5-20251101` | アドバンスド |
| `claude-opus-4-6` | 最新 |

### 13. 画像をアップロードするには？
- 方法 1：画像パスを参照する
- 方法 2：画像をターミナルにドラッグ＆ドロップする
- 方法 3：画像を直接ペーストする

すべての方法はユーザーの操作が必要です。Claude Code CLI はローカル画像を自動的に読み取りまたはアップロードしません。

### 14. コマンドラインターミナルの開き方

<Tabs>
  <Tab title="Windows">
    - 方法 1：`Win + R` を押し、`cmd` または `powershell` と入力して Enter を押す
    - 方法 2：スタートメニューで「コマンドプロンプト」または「PowerShell」を検索する
    - 方法 3：フォルダ内で Shift を押しながら右クリックし、「PowerShell ウィンドウをここで開く」を選択する
  </Tab>
  <Tab title="macOS">
    - 方法 1：`Command + Space` を押して Spotlight を開き、`Terminal` と入力して Enter を押す
    - 方法 2：「アプリケーション」→「ユーティリティ」→「ターミナル」に移動する
  </Tab>
  <Tab title="Linux">
    - 方法 1：`Ctrl + Alt + T` ショートカットを押す
    - 方法 2：アプリケーションメニューで「Terminal」を検索する
  </Tab>
</Tabs>

## 注意事項

<Warning>
Claude Code CLI は専用のプロジェクトフォルダで実行してください。機密性の高いディレクトリ（システムフォルダや認証情報を含むディレクトリなど）での実行は避けてください。Claude Code CLI は現在の作業ディレクトリを起点として動作します。
</Warning>

<Tip>
以前に公式アカウントでログインしたことがある場合は、`ANTHROPIC_AUTH_TOKEN` 環境変数をクリアするか、`settings.json` で上書きしてください。
</Tip>
