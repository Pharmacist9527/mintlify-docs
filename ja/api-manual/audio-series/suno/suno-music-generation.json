{
  "openapi": "3.1.0",
  "info": {
    "title": "Suno 音楽生成 API",
    "description": "Suno AIモデルを使用して音楽を生成、ボーカルとインストゥルメンタルの両モードに対応",
    "license": {
      "name": "MIT"
    },
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "https://api.evolink.ai",
      "description": "本番環境"
    }
  ],
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "paths": {
    "/v1/audios/generations": {
      "post": {
        "summary": "Suno 音楽生成 API",
        "description": "- Suno AI音楽生成モデル、テキスト説明または歌詞に基づいて完全な音楽を生成可能\n- カスタムモード（スタイル、タイトル、歌詞の細かい制御）とシンプルモード（AI自動生成）に対応\n- 非同期処理モード、返却されたタスクIDで[ステータスを照会](/ja/api-manual/task-management/get-task-detail)\n- 生成された音声リンクは72時間有効です、お早めに保存してください\n- 各リクエストで複数の音楽バリエーションを生成",
        "operationId": "createSunoMusicGeneration",
        "tags": [
          "Audio Generation"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SunoMusicGenerationRequest"
              },
              "examples": {
                "simple_mode": {
                  "summary": "シンプルモード（初心者向け推奨）",
                  "value": {
                    "model": "suno-v4.5",
                    "prompt": "A cheerful summer pop song about road trips and freedom"
                  }
                },
                "custom_mode_with_lyrics": {
                  "summary": "カスタムモード（歌詞付き）",
                  "value": {
                    "model": "suno-v4.5",
                    "custom_mode": true,
                    "instrumental": false,
                    "style": "pop, electronic, upbeat, female vocals, 120bpm",
                    "title": "Summer Dreams",
                    "prompt": "[Verse 1]\nDriving down the highway, windows down\nThe sun is shining on this little town\nRadio playing our favorite song\nNothing could ever go wrong\n\n[Chorus]\nSummer dreams, summer nights\nChasing stars and city lights\nWith you by my side\nI feel so alive",
                    "negative_tags": "heavy metal, screaming, sad",
                    "vocal_gender": "f"
                  }
                },
                "instrumental_mode": {
                  "summary": "インストゥルメンタルモード",
                  "value": {
                    "model": "suno-v4.5plus",
                    "custom_mode": true,
                    "instrumental": true,
                    "style": "lo-fi, chill, ambient, piano, soft drums",
                    "title": "雨の午後"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "音楽タスクの作成に成功しました",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AudioGenerationResponse"
                }
              }
            }
          },
          "400": {
            "description": "無効なリクエストパラメータ",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": {
                    "code": 400,
                    "message": "style is required when custom_mode is true",
                    "type": "invalid_request_error",
                    "param": "style"
                  }
                }
              }
            }
          },
          "401": {
            "description": "認証失敗",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": {
                    "code": 401,
                    "message": "Invalid authentication credentials",
                    "type": "authentication_error"
                  }
                }
              }
            }
          },
          "403": {
            "description": "アクセス拒否",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": {
                    "code": 403,
                    "message": "Access denied for this model",
                    "type": "permission_error",
                    "param": "model"
                  }
                }
              }
            }
          },
          "404": {
            "description": "リソースが見つかりません",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": {
                    "code": 404,
                    "message": "Specified model not found",
                    "type": "not_found_error",
                    "param": "model",
                    "fallback_suggestion": "suno-v4.5"
                  }
                }
              }
            }
          },
          "429": {
            "description": "レート制限を超過しました",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": {
                    "code": 429,
                    "message": "レート制限を超過しました",
                    "type": "rate_limit_error",
                    "fallback_suggestion": "retry after 60 seconds"
                  }
                }
              }
            }
          },
          "500": {
            "description": "内部サーバーエラー",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": {
                    "code": 500,
                    "message": "内部サーバーエラー",
                    "type": "internal_server_error",
                    "fallback_suggestion": "try again later"
                  }
                }
              }
            }
          },
          "502": {
            "description": "上流サービスエラー",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": {
                    "code": 502,
                    "message": "Bad gateway",
                    "type": "upstream_error",
                    "fallback_suggestion": "try again later"
                  }
                }
              }
            }
          },
          "503": {
            "description": "サービス一時利用不可",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "error": {
                    "code": 503,
                    "message": "サービス一時利用不可",
                    "type": "service_unavailable_error",
                    "fallback_suggestion": "retry after 30 seconds"
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "SunoMusicGenerationRequest": {
        "type": "object",
        "required": [
          "model",
          "custom_mode",
          "instrumental"
        ],
        "properties": {
          "model": {
            "type": "string",
            "description": "モデル名\n\n**利用可能なオプション：**\n- `suno-v4`：V4バージョン、ボーカル品質向上、最大4分、プロンプト最大`3000`文字、スタイル最大`200`文字\n- `suno-v4.5`：V4.5バージョン（推奨）、よりスマートなプロンプト、高速生成、最大8分、プロンプト最大`5000`文字、スタイル最大`1000`文字\n- `suno-v4.5plus`：V4.5+強化バージョン、より豊かな音色、新しいクリエイティブ手法、最大8分、プロンプト最大`5000`文字、スタイル最大`1000`文字\n- `suno-v4.5all`：V4.5フル機能バージョン、よりスマートなプロンプト、高速生成、最大8分、プロンプト最大`5000`文字、スタイル最大`1000`文字\n- `suno-v5`：V5最新バージョン、優れた音楽表現力、高速生成、プロンプト最大`5000`文字、スタイル最大`1000`文字",
            "enum": [
              "suno-v4",
              "suno-v4.5",
              "suno-v4.5plus",
              "suno-v4.5all",
              "suno-v5"
            ],
            "example": "suno-v4.5"
          },
          "custom_mode": {
            "type": "boolean",
            "description": "カスタムモードを有効化\n\n**説明：**\n- `false`：シンプルモード、`prompt`のみ提供、AIが歌詞とスタイルを自動生成\n- `true`：カスタムモード、`style`、`title`、歌詞などを細かく制御可能\n\n**カスタムモードの必須パラメータ：**\n- `style`：必須\n- `title`：必須\n- `prompt`：`instrumental=false`の場合は必須（歌詞として使用）",
            "example": false
          },
          "instrumental": {
            "type": "boolean",
            "description": "インストゥルメンタル音楽を生成（ボーカルなし）\n\n**説明：**\n- `false`：ボーカル付き音楽を生成\n- `true`：ボーカルなしのインストゥルメンタル/BGMを生成\n\n**注意：**\n- 非カスタムモードでは、このパラメータは必須フィールドに影響しません\n- カスタムモードで`true`に設定すると、`prompt`はオプションになります",
            "example": false
          },
          "prompt": {
            "type": "string",
            "description": "希望する音楽内容を説明するプロンプト\n\n**非カスタムモード（`custom_mode=false`）：**\n- 必須、音楽の説明として使用、AIが歌詞とスタイルを自動生成\n- 最大文字数：`500`文字\n\n**カスタムモード（`custom_mode=true`）：**\n- `instrumental=false`の場合に必須、正確な歌詞として使用\n- `instrumental=true`の場合は任意\n- 最大文字数：V4は`3000`文字、V4.5+は`5000`文字\n\n**歌詞フォーマットの提案：**\n- `[Verse]`、`[Chorus]`、`[Bridge]`などのタグを使用して歌詞構造を整理してください",
            "example": "A cheerful summer pop song about road trips and freedom"
          },
          "style": {
            "type": "string",
            "description": "音楽スタイルの指定\n\n**説明：**\n- カスタムモード（`custom_mode=true`）で必須\n- 音楽のジャンル、ムード、またはアーティスティックな方向性を定義\n- 英語のカンマ区切りタグの使用を推奨\n\n**文字数制限：**\n- V4：最大`200`文字\n- V4.5+：最大`1000`文字\n\n**一般的なスタイルタグ：**\n- ジャンル：pop, rock, jazz, classical, electronic, hip-hop, r&b, country, folk\n- ムード：happy, sad, energetic, calm, romantic, dark, uplifting\n- 楽器：piano, guitar, drums, bass, violin, saxophone, synthesizer\n- ボーカル：male vocals, female vocals, choir, harmonies\n- テンポ：slow, fast, upbeat, groovy, 120bpm",
            "example": "pop, electronic, upbeat, female vocals"
          },
          "title": {
            "type": "string",
            "description": "曲名\n\n**説明:**\n- カスタムモード（`custom_mode=true`）で必須\n- プレーヤーインターフェースとファイル名に表示されます\n- 最大長: `80` 文字",
            "maxLength": 80,
            "example": "Summer Dreams"
          },
          "negative_tags": {
            "type": "string",
            "description": "除外スタイル、避けたい音楽スタイルや特徴を指定\n\n**例：**\n- `heavy metal, screaming, sad`\n- `rap, fast tempo`",
            "example": "heavy metal, screaming"
          },
          "vocal_gender": {
            "type": "string",
            "description": "ボーカルの性別設定\n\n**オプション:**\n- `m`: 男性ボイス\n- `f`: 女性ボイス\n\n**注意:**\n- `custom_mode=true` の場合のみ有効\n- このパラメータは確率を上げるだけで、指定された性別に従うことを保証するものではありません",
            "enum": [
              "m",
              "f"
            ],
            "example": "f"
          },
          "style_weight": {
            "type": "number",
            "description": "スタイルの重み、指定されたスタイルへの忠実度を制御\n\n**範囲:** `0.0` ~ `1.0`、小数点第1位\n\n**説明:**\n- 値が高いほど指定されたスタイルにより忠実になります\n- `0` の値は未設定として扱われます",
            "minimum": 0,
            "maximum": 1,
            "example": 0.7
          },
          "weirdness_constraint": {
            "type": "number",
            "description": "奇抜さの制約、出力の創造性/実験性の度合いを制御\n\n**範囲:** `0.0` ~ `1.0`、小数点第1位\n\n**説明:**\n- 値が高いほどより創造的で実験的な出力になります\n- 値が低いほどより伝統的で保守的な出力になります\n- `0` の値は未設定として扱われます",
            "minimum": 0,
            "maximum": 1,
            "example": 0.3
          },
          "audio_weight": {
            "type": "number",
            "description": "音声の重み、音声特徴の重みを制御\n\n**範囲：**`0.0`〜`1.0`、小数点以下1桁\n\n**説明：**\n- 値が`0`の場合は未設定として扱われます",
            "minimum": 0,
            "maximum": 1,
            "example": 0.5
          },
          "callback_url": {
            "type": "string",
            "description": "タスク完了通知用の HTTPS コールバック URL\n\n**コールバックステージ：**\n- コールバックプロセスには3つのステージがあります：`text`（テキスト生成）、`first`（最初のトラック完了）、`complete`（すべて完了）\n- 場合によっては、`text` と `first` ステージがスキップされ、直接 `complete` が返されることがあります\n\n**セキュリティ制限：**\n- HTTPS プロトコルのみサポート\n- 内部 IP アドレスへのコールバックは禁止\n- URL の長さは `2048` 文字以内\n\n**コールバックメカニズム：**\n- タイムアウト：`10` 秒\n- 失敗時最大 `3` 回リトライ\n- コールバック URL が 2xx ステータスコードを返した場合は成功とみなされます",
            "format": "uri",
            "example": "https://your-domain.com/webhooks/suno-callback"
          }
        }
      },
      "AudioGenerationResponse": {
        "type": "object",
        "properties": {
          "created": {
            "type": "integer",
            "description": "タスク作成タイムスタンプ",
            "example": 1766319090
          },
          "id": {
            "type": "string",
            "description": "タスク ID、タスクのステータスと結果を照会するために使用",
            "example": "task-unified-1766319089-oqs9cue4"
          },
          "model": {
            "type": "string",
            "description": "使用された実際のモデル名",
            "example": "suno-v5"
          },
          "object": {
            "type": "string",
            "enum": [
              "audio.generation.task"
            ],
            "description": "タスクタイプ"
          },
          "progress": {
            "type": "integer",
            "description": "タスク進捗率（0-100）",
            "minimum": 0,
            "maximum": 100,
            "example": 100
          },
          "result_data": {
            "type": "array",
            "description": "生成された音楽詳細配列、タスク完了時に返却",
            "items": {
              "$ref": "#/components/schemas/AudioResultItem"
            }
          },
          "results": {
            "type": "array",
            "description": "生成された音声URL配列、タスク完了時に返却",
            "items": {
              "type": "string",
              "format": "uri"
            },
            "example": [
              "https://media.evolink.ai/xxx.mp3",
              "https://media.evolink.ai/yyy.mp3"
            ]
          },
          "status": {
            "type": "string",
            "description": "タスクステータス",
            "enum": [
              "pending",
              "processing",
              "completed",
              "failed"
            ],
            "example": "completed"
          },
          "task_info": {
            "$ref": "#/components/schemas/AudioTaskInfo",
            "description": "音声タスクの詳細"
          },
          "type": {
            "type": "string",
            "enum": [
              "audio"
            ],
            "description": "タスク出力タイプ",
            "example": "audio"
          }
        }
      },
      "AudioResultItem": {
        "type": "object",
        "description": "単一の音楽生成結果",
        "properties": {
          "result_id": {
            "type": "string",
            "description": "結果の一意識別子",
            "example": "555f4ea2-cfef-4622-8355-baa5f2ce6a59"
          },
          "duration": {
            "type": "number",
            "description": "音声の長さ（秒）",
            "example": 91.2
          },
          "tags": {
            "type": "string",
            "description": "音楽スタイルタグ",
            "example": "R&B"
          },
          "title": {
            "type": "string",
            "description": "曲名",
            "example": "Forget Me Nots"
          },
          "image_url": {
            "type": "string",
            "format": "uri",
            "description": "カバー画像URL",
            "example": "https://media.evolink.ai/xxx.jpeg"
          },
          "audio_url": {
            "type": "string",
            "format": "uri",
            "description": "音声ファイルURL",
            "example": "https://media.evolink.ai/xxx.mp3"
          },
          "stream_audio_url": {
            "type": "string",
            "format": "uri",
            "description": "ストリーミング音声 URL",
            "example": "https://media.evolink.ai/xxx.mp3"
          }
        }
      },
      "AudioTaskInfo": {
        "type": "object",
        "properties": {
          "can_cancel": {
            "type": "boolean",
            "description": "タスクをキャンセルできるかどうか",
            "example": false
          }
        }
      },
      "Usage": {
        "type": "object",
        "description": "使用量と課金情報",
        "properties": {
          "billing_rule": {
            "type": "string",
            "description": "課金ルール",
            "enum": [
              "per_call",
              "per_token",
              "per_second"
            ],
            "example": "per_call"
          },
          "credits_reserved": {
            "type": "number",
            "description": "推定消費クレジット",
            "minimum": 0,
            "example": 10
          },
          "user_group": {
            "type": "string",
            "description": "ユーザーグループカテゴリ",
            "enum": [
              "default",
              "vip"
            ],
            "example": "default"
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "error": {
            "type": "object",
            "properties": {
              "code": {
                "type": "integer",
                "description": "エラーコード"
              },
              "message": {
                "type": "string",
                "description": "エラーメッセージ"
              },
              "type": {
                "type": "string",
                "description": "エラータイプ"
              },
              "param": {
                "type": "string",
                "description": "エラーの原因となったパラメータ"
              },
              "fallback_suggestion": {
                "type": "string",
                "description": "推奨される解決策"
              }
            }
          }
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "description": "##すべてのAPIにBearer Token認証が必要です##\n\n**APIキーの取得：**\n\n[APIキー管理ページ](https://evolink.ai/dashboard/keys)にアクセスしてAPIキーを取得してください\n\n**リクエストヘッダーに追加：**\n```\nAuthorization: Bearer YOUR_API_KEY\n```"
      }
    }
  }
}